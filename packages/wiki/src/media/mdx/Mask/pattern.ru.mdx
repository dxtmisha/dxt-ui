## Валидация и паттерны

Свойства `check` и `pattern` предназначены для управления валидацией ввода и определения допустимых символов в маске.

### Свойства

- **pattern** — Определяет паттерны валидации для отдельных групп маски, задавая допустимые символы и правила по группам
- **check** — Глобальный паттерн валидации, применяемый после завершения маски для дополнительной проверки ввода

### Тип FieldPatternItemOrFunction

Оба параметра `pattern` и `check` имеют тип `FieldPatternItemOrFunction` и принимают следующие значения:

```ts
type FieldPatternItemOrFunction =
  | string                                    // RegExp строка
  | Partial<HTMLInputElement>                 // Объект с атрибутами input
  | ((item: FieldMasks) => FieldPatternItem)  // Функция-генератор паттерна

interface FieldMasks {
  group: string      // Название группы маски
  value: string      // Текущее значение группы
  maxLength: number  // Максимальная длина группы
  full: boolean      // Группа заполнена полностью
  end: boolean       // Конец ввода
  // ...другие свойства маски
}
```

### Различия в применении

**Pattern** работает на уровне групп маски:
- Применяется в реальном времени при вводе символов
- Каждая группа маски (определённая спецсимволами) получает свой паттерн
- Недопустимые символы отклоняются до появления в поле
- Разные группы могут иметь разные правила валидации

**Check** работает с полным значением:
- Запускается только после полного заполнения маски
- Применяется ко всему введённому значению
- Обеспечивает дополнительный слой валидации для сложной бизнес-логики
- Используется для финальной проверки корректности данных

### Примеры использования

```javascript
// Pattern для групп: только цифры в телефонном номере
pattern: "\\d"

// Pattern с функцией для разных групп
pattern: (maskData) => {
  if (maskData.group === 'month') return "[0-1]\\d"
  if (maskData.group === 'day') return "[0-3]\\d"
  return "\\d"
}

// Check для валидации номера карты алгоритмом Луна
check: (maskData) => {
  const cardNumber = maskData.value.replace(/\s/g, '')
  return isValidLuhn(cardNumber)
    ? { valid: true }
    : { valid: false, message: "Неверный номер карты" }
}

// Check с RegExp для проверки формата
check: "^\\+1\\d{10}$"
```

### Взаимосвязь свойств

Свойства работают последовательно для обеспечения качественной валидации:

- `pattern` фильтрует ввод на уровне символов и групп, предотвращая некорректный ввод
- `check` выполняет финальную валидацию полного значения по завершении заполнения маски
- Оба свойства опциональны и могут использоваться независимо или совместно
- При совместном использовании обеспечивают многоуровневую защиту от некорректных данных

Такой подход позволяет создавать гибкие и надёжные поля ввода с детальным контролем валидации на всех этапах взаимодействия с пользователем.
