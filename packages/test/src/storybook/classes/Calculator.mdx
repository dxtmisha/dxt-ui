import { Meta } from '@storybook/addon-docs/blocks'

<Meta title='@dxtmisha/functional/en/Classes/Calculator'/>

# Calculator Class

A simple calculator class for basic mathematical operations. It implements a fluent interface (method chaining) for sequential calculations and provides utility methods to inspect the properties of the current result.

## Key Features

- **Fluent Interface** — Most methods return `this`, allowing for concise method chaining.
- **Basic Arithmetic** — Supports addition, subtraction, multiplication, division, exponentiation, and square roots.
- **State Validation** — Built-in methods to check if the result is even, odd, positive, negative, or zero.
- **Error Handling** — Includes safeguards against division by zero and square roots of negative numbers.

## Usage Example

```javascript
import { Calculator } from './component-template';

const calc = new Calculator();

// Method chaining
const result = calc
  .setValue(10)
  .add(5)       // 15
  .multiply(2)  // 30
  .divide(3)    // 10
  .getResult();

console.log(result); // 10

// Validation
if (calc.isEven()) {
  console.log('Result is even');
}
```

## State Management

Methods to manage the internal value of the calculator.

### `setValue`

Sets the initial value of the calculator.

**Parameters:**
- `value: number` — The initial value to set.

**Returns:** `this` — Reference to the class instance for chaining.

```javascript
const calc = new Calculator();
calc.setValue(100);
```

### `getResult`

Retrieves the current result value.

**Returns:** `number` — The current calculated result.

```javascript
const value = calc.getResult();
```

### `reset`

Resets the calculator's result to zero.

**Returns:** `this` — Reference to the class instance for chaining.

```javascript
calc.reset();
// calc.getResult() === 0
```

## Arithmetic Operations

Methods to perform mathematical calculations. All operations modify the current state.

### `add`

Adds a number to the current result.

**Parameters:**
- `value: number` — The number to add.

**Returns:** `this` — Reference to the class instance for chaining.

```javascript
calc.setValue(10).add(5); // result is 15
```

### `subtract`

Subtracts a number from the current result.

**Parameters:**
- `value: number` — The number to subtract.

**Returns:** `this` — Reference to the class instance for chaining.

```javascript
calc.setValue(10).subtract(3); // result is 7
```

### `multiply`

Multiplies the current result by a number.

**Parameters:**
- `value: number` — The number to multiply by.

**Returns:** `this` — Reference to the class instance for chaining.

```javascript
calc.setValue(10).multiply(4); // result is 40
```

### `divide`

Divides the current result by a number.

**Parameters:**
- `value: number` — The number to divide by.

**Returns:** `this` — Reference to the class instance for chaining.

**Throws:** `Error` if `value` is `0`.

```javascript
try {
  calc.setValue(20).divide(2); // result is 10
  calc.divide(0); // Throws "Division by zero is not allowed"
} catch (e) {
  console.error(e.message);
}
```

### `power`

Raises the current result to a specific power.

**Parameters:**
- `exponent: number` — The exponent value.

**Returns:** `this` — Reference to the class instance for chaining.

```javascript
calc.setValue(2).power(3); // result is 8
```

### `sqrt`

Calculates the square root of the current result.

**Returns:** `this` — Reference to the class instance for chaining.

**Throws:** `Error` if the current result is negative.

```javascript
calc.setValue(16).sqrt(); // result is 4
```

## Result Validation

Helper methods to inspect the characteristics of the current result without modifying it.

### `isEven`

Checks if the result is an even number.

**Returns:** `boolean` — `true` if even, `false` otherwise.

```javascript
const isEven = calc.setValue(4).isEven(); // true
```

### `isOdd`

Checks if the result is an odd number.

**Returns:** `boolean` — `true` if odd, `false` otherwise.

```javascript
const isOdd = calc.setValue(3).isOdd(); // true
```

### `isPositive`

Checks if the result is strictly greater than zero.

**Returns:** `boolean` — `true` if positive.

```javascript
const isPos = calc.setValue(1).isPositive(); // true
```

### `isNegative`

Checks if the result is strictly less than zero.

**Returns:** `boolean` — `true` if negative.

```javascript
const isNeg = calc.setValue(-5).isNegative(); // true
```

### `isZero`

Checks if the result is exactly zero.

**Returns:** `boolean` — `true` if the result is 0.

```javascript
const isZero = calc.reset().isZero(); // true
