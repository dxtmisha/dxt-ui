import{G as E,ag as k,C as S,m as N,Z as b,c as a,r as y,P as B,Q as $,ak as C,al as D,am as O,a9 as d,$ as A,an as v,a1 as _,ao as K,ap as R,aq as P,w as g,ah as j,ar as q,aj as Y,as as H,I as G,at as U,h as Q,l as m,e as W,z,A as Z,B as I,D as J,E as X,F as tt}from"./iframe-BlCC38XJ.js";import{A as et}from"./AriaStaticInclude-BOo8fnl5.js";class p{constructor(t,e=p.getGroupDefault(),i){this.pattern=t,this.group=e,this.code=i,this.input=E(void 0,"input",this.getAttributes())}input;check(t){const e=this.input;return e?(e.type==="checkbox"||e.type==="radio"?e.checked=!!t:e.value=k(t),this.checkByInput(e)):{group:this.group,status:!0,value:t}}checkByInput(t){return{group:this.group,input:t,status:t.checkValidity(),validationMessage:t.validationMessage,validity:t.validity,validityMessage:this.code?.get(t.validity),required:t.required,pattern:this.pattern,value:t.value}}getAttributes(){const t=this.pattern;if(S(t)){const e=N(t);if(S(e))return b(e)?{pattern:e}:e}return{}}static getGroupDefault(){return"check"}}class it{constructor(t){this.props=t}item=a(()=>this.props.type??"text");isNumber(){return this.item.value==="number"}isNumberFormat(){return this.item.value==="number-format"}isCurrency(){return this.item.value==="currency"}isCurrencyOrNumber(){return this.isNumber()||this.isNumberFormat()||this.isCurrency()}isTime(){return["full","datetime","time","hour-minute","hour","minute","second"].indexOf(this.item.value)!==-1}isDate(){return this.isTime()||["date","year","year-month","month","day","day-month"].indexOf(this.item.value)!==-1}getByDate(){return this.isDate()?this.item.value:"date"}}class st{chars=[];start=!1;is(){return this.chars.length>0}get(){return this.chars}add(t){return this.chars.push(t),this}go(t){return this.start?(this.add(t),!1):(this.goStart(),!0)}goStart(){return this.start=!0,this}reset(){return this.resetChars(),this.start=!1,this}resetChars(){return this.chars=[],this}}class rt{constructor(t){this.buffer=t}value=!1;is(){return this.value}in(){this.value=!0,this.buffer.reset()}out(){this.value=!1,this.buffer.reset()}}class at{length=y(0);is(){return this.length.value>0}get(){return this.length.value}set(t){return this.length.value=t,this}}class ht{item=y({});is(t){return Number(this.item.value?.[t])>0}getByIndex(t){return this.item.value?.[t]??0}add(t){return this.item.value={...this.item.value,[t]:this.getByIndex(t)+1},this}pop(t){return this.is(t)?(this.item.value={...this.item.value,[t]:this.getByIndex(t)-1},!0):!1}reset(){return this.item.value={},this}expandMask(t){let e=t;return B(this.item.value,(i,s)=>{e=e.replace($(s,"g","([:value]+)"),r=>`${r}${C(s,i)}`)}),e}}class nt{item=y("");is(){return this.item.value!==""}isChar(t){return this.item.value===t}set(t){return this.item.value=t,this}reset(){return this.set("")}}const ut={Y:"[0-9]{4}",M:{type:"number",min:"1",max:"12"},D:h=>({type:"number",min:"1",max:new D(`${h?.Y?.value??"2000"}-${h?.M?.value??"01"}-01`).getMaxDay().toString()}),h:{type:"number",min:"0",max:"23"},m:{type:"number",min:"0",max:"59"},s:{type:"number",min:"0",max:"59"}},lt={Y:"y",M:"m",D:"d",h:"h",m:"m",s:"s"};class ct{constructor(t,e){this.props=t,this.type=e}mask=a(()=>this.getDatetime().setHour24(!0).locale(void 0,"2-digit").replace("1987","YYYY").replace("12","MM").replace("18","DD").replace("10","hh").replace("20","mm").replace("30","ss").split(""));getDatetime(t){return new D(t??"1987-12-18T10:20:30",this.type.getByDate(),this.props.language)}getValue(t){return this.getDatetime(t).locale(void 0,"2-digit")}getValueStandard(t){const e=this.getValueStandardFull(t);return e===""?"":this.getDatetime(e).standard(!1)}getValueStandardFull(t){const e=`${t?.Y?.value||"2000"}-${t?.M?.value||"01"}-${t?.D?.value||"01"}T${t?.h?.value||"00"}:${t?.m?.value||"00"}:${t?.s?.value||"00"}`;return isNaN(Date.parse(e))?"":e}getPattern(){return ut}getSpecialDate(){return["Y","M","D"]}getSpecialFull(){return[...this.getSpecialDate(),"h","m","s"]}getView(t){return lt?.[t]}}class ot{constructor(t,e,i){this.props=t,this.type=e,this.rubberItem=i}special={n:{},f:{defaultValue:"0"}};rubber=a(()=>({n:{rubber:!0,transitionChar:this.getDecimal(),maxLength:10},f:{rubber:this.isFractionRubber(),maxLength:4}}));view=a(()=>this.type.isNumber()?"â ":"0");fraction=a(()=>{if(this.type.isCurrency())return 2;const t=this.props.fraction;return typeof t=="number"?t:typeof t=="string"&&t.match(/[0-9]+/)?Number(t):this.rubberItem.is("f")?this.rubberItem.getByIndex("f")+1:t===!0?1:0});mask=a(()=>this.type.isCurrency()?this.toSpecial(this.getCurrency()):this.type.isNumberFormat()?this.toSpecial(this.getNumberFormat()):this.toSpecial(this.getNumber()));isFractionRubber(){return this.props.fraction===!0}getValueStandard(t){if(this.type.isNumber())return t?.n?.value||"";const e=`${t?.n?.value||"0"}.${t?.f?.value||"0"}`;return e==="0.0"?"0":e}getNumber(){return this.getNumberForString()}getNumberFormat(){return this.getIntl().number(this.getNumberForString(),{maximumFractionDigits:9})}getCurrency(){return this.getIntl().currency(this.getNumberForString(),void 0,this.props.currencyHide)}getDecimal(){return[this.getIntl().decimal(),"."]}getSpecial(){return Object.keys(this.special)}getIntl(){return new O(this.props.language)}getNumberForString(){const t=this.fraction.value,e=C("9",this.rubberItem.getByIndex("n")+1),i=t?`.${C("3",t)}`:"",s=this.type.isCurrency()&&this.props.currency?` ${this.props.currency}`:"";return`${e}${i}${s}`}toSpecial(t){return t.replace(/9/ig,"n").replace(/3/ig,"f").split("")}}class pt{constructor(t,e,i,s){this.props=t,this.type=e,this.date=i,this.format=s}item=a(()=>{if(this.type.isCurrencyOrNumber())return this.format.getSpecial();if(this.type.isTime())return this.date.getSpecialFull();if(this.type.isDate())return this.date.getSpecialDate();const t=this.special.value;return d(t)?t:A(t)?Object.keys(t):[t]});rubberList=a(()=>{const t={};return v(this.special.value)&&B(this.special.value,(e,i)=>{e?.rubber&&(t[i]=e)}),t});isSpecial(t){return this.item.value.indexOf(t)!==-1}isDefault(t){return!!this.getDefault(t)}getDefault(t){return this.getSpecialItem(t)?.defaultValue}getMatch(t){return this.getSpecialItem(t)?.match}getPattern(t){return this.getSpecialItem(t)?.pattern}getView(t){return this.getSpecialItem(t)?.view}special=a(()=>this.type.isCurrencyOrNumber()?this.format.special:this.props.special??"*");getSpecialItem(t){const e=this.special.value;if(v(e)&&t in e)return e[t]}}const w=/[0-9]/;class mt{constructor(t,e){this.props=t,this.special=e}is(t,e){const i=this.get(e);return i instanceof RegExp?!!t.match(i):b(i)?!!t.match(new RegExp(i)):!!t.match(w)}get(t){return(t&&this.special.getMatch(t))??this.props.match??w}filter(t){const e=this.special.item.value;return t.split("").filter(i=>e.find(s=>this.is(i,s)))}}class ft{constructor(t,e,i,s){this.props=t,this.type=e,this.date=i,this.special=s}item=a(()=>{const t={};return B(this.list.value,(e,i)=>{t[i]=new p(e,i)}),this.props.check&&(t.check=new p(this.props.check)),t});list=a(()=>{const t=this.getByType();for(const e in t){const i=this.getPattern(e);t[e]&&(b(i)?Object.assign(t[e],{pattern:i}):v(i)&&v(t[e])&&Object.assign(t[e],i))}return t});isCheck(){return!!this.props.check}getInput(t=p.getGroupDefault()){return this.item.value?.[t]}getByType(){if(this.type.isDate())return this.date.getPattern();const t={};return this.special.item.value.forEach(e=>{t[e]={}}),t}getPattern(t){return(t&&this.special.getPattern(t))??this.props.pattern}}const gt={special:"*",match:/[0-9]/,type:"text",groupSave:!0,view:"_",visible:!0};class dt{constructor(t,e){this.props=t,this.type=e}isEnd(){return this.props.align!=="left"&&(this.props.dir==="rtl"||this.type.isCurrency()&&!this.props.currencyHide||this.type.isNumberFormat())}isRight(){return this.props.align==="right"||this.isEnd()}}class vt{constructor(t,e,i,s,r,n,u){this.props=t,this.type=e,this.rubberItem=i,this.rubberTransition=s,this.special=r,this.match=n,this.format=u}isTransition(t){return this.transition.value.indexOf(t)>=0}get(t){return this.list.value?.[t]}update(t,e,i){const s=this.get(e),r=t?.[e];return s&&r?_(i,s?.transitionChar)||s?.maxLength&&s?.maxLength<=r?.chars.length?(this.rubberTransition.set(e),!1):(r.end&&this.match.is(i,e)&&!this.rubberTransition.isChar(e)&&(this.rubberItem.add(e),this.rubberTransition.reset()),!0):!1}pop(t){return this.rubberItem.pop(t)}reset(){return this.rubberItem.reset(),this.rubberTransition.reset(),this}list=a(()=>{const t=this.special.rubberList.value;return this.type.isCurrencyOrNumber()?K(this.format.rubber.value,t):t});transition=a(()=>R(Object.values(this.list.value).filter(t=>"transitionChar"in t&&(b(t.transitionChar)||d(t.transitionChar))),"transitionChar").flat())}class bt{constructor(t,e,i,s,r,n,u){this.props=t,this.type=e,this.rubberItem=i,this.characterLength=s,this.date=r,this.format=n,this.special=u}item=a(()=>this.type.isCurrencyOrNumber()?this.format.mask.value:this.type.isDate()?this.date.mask.value:this.basic.value);info=a(()=>{const t=[];let e=0;return this.item.value.forEach((i,s)=>{this.special.isSpecial(i)&&(t.push({index:e,key:s,char:i}),e++)}),t});maxLength=a(()=>{const t=this.getMask();return d(t)?P(t):this.item.value.length});get(t){return this.item.value?.[t]??""}getByChar(t,e=-1){let i=e;return this.item.value.forEach((s,r)=>{s===t&&r>=e&&(i=r)}),i}getLength(){return this.item.value.length}getLengthBySpecial(){return this.info.value.length}getQuantity(t,e){if(t===e)return 1;let i=0;for(let s=t;s<e;s++)this.special.isSpecial(this.get(s))&&i++;return i}maskActive=a(()=>{const t=this.getMask();return d(t)?t.find(e=>this.getSpecialLength(e)>=this.characterLength.get())||t?.[t.length-1]||"":t});basic=a(()=>this.rubberItem.expandMask(this.maskActive.value).split(""));getMask(){return this.props.mask??""}getSpecialLength(t){return t.split("").filter(e=>this.special.isSpecial(e)).length}}class yt{constructor(t,e){this.special=t,this.mask=e}value=0;immediate=0;shift=!1;get(){return this.value}getFirst(){return this.mask.info.value?.[0]?.key??0}getFocus(){return this.getCharacter(this.value)}getNext(){return this.getCharacter(this.value+1)}getPrevious(){return this.getCharacter(this.value-1)}getImmediate(){return this.getCharacter(this.immediate)}getShift(){return this.shift?this.value>0?this.getCharacter(this.value-1)+1:0:this.getFocus()}set(t){return this.value=t,this}setByMask(t,e=!0){if(e){let i,s;this.mask.info.value.forEach(r=>{i===void 0&&r.key>=t&&(i=r.index),r.key<=t&&(s=r.index)}),this.set(i!==void 0?i:this.mask.getLengthBySpecial()),this.setImmediate(s!==void 0?s:this.mask.getLengthBySpecial())}return this}setImmediate(t){return this.immediate=t,this}setShift(t){return this.shift=t,this}resetImmediate(){return this.immediate=this.value<=0?0:this.value-1,this}goBack(){return this.value>0&&this.value--,this}goNext(){return this.value<=this.mask.getLength()&&this.value++,this}getCharacter(t){for(const e of this.mask.info.value)if(e.index>=t)return e.key;return this.mask.getLength()}}const f="~",kt="_";class St{constructor(t,e,i,s,r,n){this.props=t,this.rubberItem=e,this.characterLength=i,this.special=s,this.mask=r,this.selection=n}item=y([]);is(){return this.item.value.length>0}isCharDelete(){const t=this.selection.get();return t in this.item.value&&this.item.value[t]===f}getFocus(){return this.mask.get(this.selection.getFocus())}getImmediate(){return this.mask.get(this.selection.getImmediate())}getNext(){return this.mask.get(this.selection.getNext())}add(t){return this.item.value.splice(this.selection.get(),this.isCharDelete()?1:0,t),this.selection.goNext().resetImmediate(),this.updateLength(),this}pop(){const t=this.selection.get()-1;return this.isSpecialNextAnother()?this.item.value[t]=f:(this.item.value.splice(t,1),this.updateLength()),this.selection.goBack().resetImmediate(),this}reset(){return this.item.value=[],this.selection.set(0).resetImmediate(),this.updateLength(),this}shift(t=1){return this.characterLength.set(this.item.value.length+t),this}isSpecialNextAnother(){const t=this.selection.get()-1,e=this.item.value.length;if(this.props.groupSave&&t>=0&&t<=e){const i=this.mask.info.value,s=i?.[t]?.char;if(s&&!this.rubberItem.is(s)){for(let r=t;r<e;r++)if(i?.[r]){const n=i[r]?.char;if(n&&this.special.isSpecial(n)&&s!==n)return!0}}}return!1}updateLength(){return this.characterLength.set(this.item.value.length),this}}class Ct{constructor(t,e,i,s){this.rubberTransition=t,this.mask=e,this.special=i,this.character=s}item=a(()=>{const t=this.character.item.value,e=[];let i=0;for(const s of this.mask.item.value)if(!this.special.isSpecial(s))e.push(s);else if(i in t){if(e.push(String(t[i++])),i>t.length&&this.rubberTransition.is()&&!this.rubberTransition.isChar(s))break}else break;return e.join("")});is(){return this.getLength()>0}getChar(t){return this.item.value?.[t]}getLength(){return this.item.value.length}}class Bt{constructor(t,e,i,s,r,n,u){this.props=t,this.type=e,this.date=i,this.format=s,this.mask=r,this.special=n,this.valueBasic=u,g(this.info,(l,c)=>{this.type.isDate()&&(this.infoCache=c)})}infoCache;info=a(()=>{const t=this.valueBasic.item.value,e={};return this.mask.item.value.forEach((i,s)=>{if(this.special.isSpecial(i)){const r=this.add(e,i);this.isStandard(s)&&t[s]!==f&&r.chars.push(String(t[s])),r.maxLength++,r.end=r.maxLength===r.chars.length,r.full=this.special.isDefault(i)||r.end,r.value=r.full?r.chars.join(""):""}}),e});item=a(()=>this.getValue(this.info.value));isFull=a(()=>{for(const t of Object.values(this.info.value))if(!t.full)return!1;return!0});isEnd=a(()=>{for(const t of Object.values(this.info.value))if(!t.end)return!1;return!0});getValueCache(){return this.infoCache?this.getValue(this.infoCache):this.item.value}getForCheck(){const t=this.item.value;return{group:p.getGroupDefault(),value:t,maxLength:t.length,full:this.isFull.value,end:this.isEnd.value,chars:t.split("")}}getInfoItem(t){return this.info.value?.[t]}valueFinal=a(()=>{const t=this.valueBasic.item.value.split(""),e=this.mask.item.value;let i="";for(const s in e)if(s in t)i+=t[s];else if(e[s]){const r=this.special.getDefault(e[s]);r&&(i+=r)}return i});isStandard(t){return!!this.valueBasic.getChar(t)}getValue(t){return this.type.isCurrencyOrNumber()?this.format.getValueStandard(t):this.type.isDate()?this.isFull.value?this.date.getValueStandard(t):"":this.props.fullOnly&&!this.isFull.value?"":this.valueFinal.value}add(t,e){return e in t||(t[e]={group:e,value:"",maxLength:0,full:!1,end:!1,chars:[]}),t[e]}}class It{constructor(t,e){this.pattern=t,this.value=e}item=a(()=>{for(const t of Object.values(this.pattern.item.value)){const e=this.value.getInfoItem(t.group);if(e&&e.full){const i=t.check(e.value);if(i&&!i.status)return{...i,value:this.value.item.value}}}return this.getValidationCheck()});isError(t){const e=this.item.value?.group;return!!(e&&(e===t||e===p.getGroupDefault()))}checkValidity(){return this.item.value===void 0}getValidationCheck(){if(this.value.isFull.value){const t=this.value.getForCheck();if(this.pattern.isCheck()){const e=this.pattern.getInput(t.group)?.check(t.value);if(e&&!e.status)return e}return{status:!0,value:t.value,isFull:!0}}return{status:!0,value:this.value.item.value,isFull:!1}}}class wt{constructor(t,e,i,s,r,n,u,l,c,o){this.props=t,this.type=e,this.date=i,this.format=s,this.special=r,this.rubber=n,this.mask=u,this.valueBasic=l,this.validation=c,this.classNameItem=`${o}__character__item`}classNameItem;item=a(()=>{const t=[],e=this.valueBasic.item.value;return this.mask.item.value.forEach((i,s)=>{const r=e?.[s];t.push({className:`${this.classNameItem} ${this.classNameItem}--${this.getStatus(i,r)}`,value:this.getValue(i,r)})}),t});input=a(()=>{const t=[],e=this.mask.item.value;return this.valueBasic.item.value.split("").forEach((i,s)=>{i===f?t.push(this.getSpecialToView(e?.[s]??"")??i):t.push(i)}),t.join("")});isValue(t){return!!(t&&t!==f)}getStatus(t,e){return this.isValue(e)?this.special.isSpecial(t)?this.validation.isError(t)?"error":"special":"standard":this.rubber.isTransition(t)?"transition":"placeholder"}getValue(t,e){return this.isValue(e)?e:this.getSpecialToView(t)}getSpecialToView(t){return this.special.isSpecial(t)?this.getViewChar(t)??this.special.getView(t)??this.props.view??kt:t}getViewChar(t){if(this.type.isDate())return this.date.getView(t);if(this.type.isCurrencyOrNumber())return this.format.view.value}}class xt{constructor(t,e){this.validation=t,this.emits=e}type;event;isValue(){return!!(this.type&&["input","change"].indexOf(this.type)>=0)}go(){if(this.type&&this.event){const t=this.isValue()?this.validation.item.value:void 0;this.emits?.(this.type,this.event,t),(this.type==="inputLite"||this.type==="changeLite")&&this.emits?.(this.type,t)}return this}set(t,e){return this.setType(t),this.setEvent(e),this}setType(t){return this.type=t,this}setEvent(t){return this.event=t,this}reset(){return this.resetType(),this.resetEvent(),this}resetType(){return this.type=void 0,this}resetEvent(){return this.event=void 0,this}}class Dt{constructor(t,e,i,s,r,n,u,l,c,o,M,L,T,F,V){this.type=t,this.buffer=e,this.focus=i,this.rubberTransition=s,this.date=r,this.special=n,this.match=u,this.rubber=l,this.mask=c,this.selection=o,this.character=M,this.valueBasic=L,this.value=T,this.emit=F,this.element=V}add(t,e,i=!0){let s=!1;return this.selection.setByMask(t,i),this.rubberTransition.reset(),j(e).forEach(r=>{const n=this.character.getFocus(),u=this.character.getImmediate();this.selection.setShift(this.rubber.update(this.value.info.value,u,r)),this.rubberTransition.is()&&this.selection.setByMask(this.mask.getByChar(this.rubberTransition.item.value,this.selection.getImmediate())+1,i),this.match.is(r,n)&&(this.character.shift(),this.character.getFocus()&&(this.mask.maxLength.value>this.valueBasic.getLength()||this.character.isCharDelete())&&(this.character.add(r),s=!0))}),this.goSelection(),s}pop(t,e=t,i=!0){if(t>=0&&e<=this.mask.maxLength.value){let s=this.mask.getQuantity(t,e);for(i&&this.selection.setByMask(e);s--;)this.rubberTransition.reset(),this.character.pop(),this.character.shift(0),this.selection.setShift(this.rubber.pop(this.character.getFocus()));this.goSelection()}return this}reset(t=""){if(this.character.reset(),this.rubber.reset(),S(t)){const e=this.type.isDate()?this.date.getValue(t):t;this.add(0,this.extra(e.split("")))}return this}extra(t){if(this.character.is())return t;const e=this.mask.item.value,i=[...t];let s=this.match.get(this.mask.info.value?.[0]?.char),r=0;if(s)for(const n in e){const u=e[n];if(u){if(this.special.isSpecial(u)){for(let l=r;l<i.length&&(r++,!i?.[l]?.match(s));l++);s=this.match.get(u)}else if(u.match(s)){let l=!1;for(let c=r;c<i.length;c++){const o=i[c];if(r++,o?.match(s)){u===o?(i.splice(c,1),r--):l=!0;break}}if(l)break}}}return i}goSelection(t=!0){return this.focus.is()&&requestAnimationFrame(()=>{if(this.element.value&&(!t||!this.goBuffer())){const e=this.valueBasic.getLength(),i=this.selection.getShift(),s=e<i?e:i;this.element.value.selectionEnd=s,this.element.value.selectionStart=s}}),this}goBuffer(){return this.buffer.is()?(this.add(this.selection.getShift(),this.buffer.get()),this.buffer.resetChars(),!0):(this.buffer.reset(),this.emit.go(),!1)}}class Mt{constructor(t,e,i,s,r,n,u,l){this.buffer=t,this.focus=e,this.characterLength=i,this.right=s,this.selection=r,this.valueBasic=n,this.emit=u,this.data=l}change=!1;unidentified;onFocus=t=>{this.change=!1,this.focus.in(),this.emit.set("focus",t).go()};onBlur=t=>{this.change&&this.emit.setType("change").go(),this.focus.out(),this.emit.set("blur",t).go()};onKeydown=t=>{const e=this.getSelectionInfo(t),{start:i,end:s}=e;this.emit.set("keydown",t).go(),this.isCut(t)&&this.isSelection(e)&&(this.data.pop(i,s),q(t.target.value.slice(i,s)).then()),!this.isMetaKey(t)&&(this.isKey(t)?t.key==="Backspace"?(i>0||i!==s)&&this.data.pop(i,s):t.key.length<=1&&(i===s?this.buffer.go(t.key)&&this.data.add(i,t.key):(this.buffer.goStart(),this.data.pop(i,s).add(this.selection.getShift(),t.key))):this.unidentified=e)};onKeyup=t=>{this.emit.set("keyup",t).go(),!this.isMetaKey(t)&&this.isKey(t)&&["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].indexOf(t.key)>=0&&(this.makeToEnd(t),this.makeToStart(t))};onBeforeinput=t=>{this.emit.set("beforeinput",t).go(),this.unidentified||(this.makeChange(t),Y(t))};onInput=t=>{if(this.unidentified){const e=t.target;(this.unidentified.length>e.value.length||this.unidentified.start!==this.unidentified.end)&&this.data.pop(this.unidentified.start,this.unidentified.end),"data"in t?t.data&&this.buffer.go(t.data)&&this.data.add(this.unidentified.start,t.data):this.data.reset(e.value),this.makeChange(t),this.unidentified=void 0}};onPaste=t=>{const{start:e,end:i}=this.getSelectionInfo(t);H(t).then(s=>{const r=s.split("");e===i?this.data.add(e,this.data.extra(r)):this.data.pop(e,i).add(this.selection.getShift(),this.data.extra(r)),this.change=!0,this.emit.set("paste",t).go()}).catch(s=>console.error("getClipboardData",s))};onChange=t=>{const e=t.target;this.data.reset(e.value),this.emit.set("change",t).go()};onClick=t=>{this.makeToEnd(t),this.makeToStart(t)};isMetaKey(t){return t.metaKey||t.altKey||t.ctrlKey}isCut(t){return t.type==="cut"||!!(t.key.toLowerCase()==="x"&&(t.metaKey||t.ctrlKey))}isKey(t){return"key"in t&&t.key!=="Unidentified"}isSelection(t){const{start:e,end:i}=t;return e>0||e!==i}getSelectionInfo(t){const e=t.target;return{target:e,start:e.selectionStart??0,end:e.selectionEnd??0,length:e.value.length}}makeChange(t){this.change=!0,this.emit.set("input",t),!this.buffer.is()&&(this.emit.go(),this.emit.resetType())}makeToEnd(t){if(this.right.isRight()){const e=this.valueBasic.getLength(),{target:i,start:s,end:r}=this.getSelectionInfo(t);s>e&&(i.selectionStart=e),r>e&&(i.selectionEnd=e)}}makeToStart(t){const e=this.selection.getFirst(),{target:i,start:s}=this.getSelectionInfo(t);s<e&&(i.selectionStart=e,i.selectionEnd=e)}}class Lt{constructor(t,e,i,s,r,n,u,l){this.props=t,this.refs=e,this.element=i,this.classDesign=s,this.className=r,this.components=n,this.slots=u,this.emits=l,this.type=new it(this.props),this.buffer=new st,this.focus=new rt(this.buffer),this.characterLength=new at,this.rubberItem=new ht,this.rubberTransition=new nt,this.date=new ct(this.props,this.type),this.format=new ot(this.props,this.type,this.rubberItem),this.special=new pt(this.props,this.type,this.date,this.format),this.match=new mt(this.props,this.special),this.pattern=new ft(this.props,this.type,this.date,this.special),this.right=new dt(this.props,this.type),this.rubber=new vt(this.props,this.type,this.rubberItem,this.rubberTransition,this.special,this.match,this.format),this.item=new bt(this.props,this.type,this.rubberItem,this.characterLength,this.date,this.format,this.special),this.selection=new yt(this.special,this.item),this.character=new St(this.props,this.rubberItem,this.characterLength,this.special,this.item,this.selection),this.valueBasic=new Ct(this.rubberTransition,this.item,this.special,this.character),this.value=new Bt(this.props,this.type,this.date,this.format,this.item,this.special,this.valueBasic),this.validation=new It(this.pattern,this.value),this.view=new wt(this.props,this.type,this.date,this.format,this.special,this.rubber,this.item,this.valueBasic,this.validation,this.className),this.emit=new xt(this.validation,this.emits),this.data=new Dt(this.type,this.buffer,this.focus,this.rubberTransition,this.date,this.special,this.match,this.rubber,this.item,this.selection,this.character,this.valueBasic,this.value,this.emit,this.element),this.event=new Mt(this.buffer,this.focus,this.characterLength,this.right,this.selection,this.valueBasic,this.emit,this.data),g([e.value],()=>this.reset(t.value)),g(this.basic,()=>this.data.goSelection(!1)),g([G.getStandard(),e.language],()=>this.reset(this.value.getValueCache())),t.value&&this.data.reset(k(t.value))}type;buffer;focus;characterLength;rubberItem;rubberTransition;date;format;special;match;pattern;right;rubber;item;selection;character;valueBasic;value;validation;view;emit;data;event;basic=a(()=>{if(this.right.isRight()){let t="";return this.view.item.value.forEach(e=>{t+=e.value}),t}return this.view.input.value});classes=a(()=>({[`${this.className}--value`]:this.characterLength.is(),[`${this.className}--end`]:this.right.isEnd()}));set=t=>this.reset(t);reset(t){const e=k(t);return e!==this.props.valueDefault&&(this.value.item.value!==e||this.valueBasic.item.value!==e&&!U(e))?(this.data.reset(e),this.emit.set("reset",{}).go(),!0):!1}clear=()=>{this.data.reset((this.props.valueDefault??"").toString()),this.emit.set("reset",{}).go(),this.element.value?.focus()}}class Tt extends Q{item;constructor(t,e,i){super(t,e,i),this.item=new Lt(this.props,this.refs,this.element,this.getDesign(),this.getName(),this.components,this.slots,this.emits),this.init()}initExpose(){return{valueBasic:this.item.basic,value:this.item.value.item,setValue:this.item.set,clear:this.item.clear}}initClasses(){return{main:this.item.classes.value,input:this.getSubClass("input"),character:this.getSubClass("character"),characterItem:this.getSubClass("character__item")}}initStyles(){return{}}initRender(){const t=[...this.renderData(),...this.renderInput(),...this.renderView()];return m("span",{...this.getAttrs(),class:this.classes?.value.main},t)}renderData=()=>this.props.name?[m("input",{type:"hidden",name:this.props.name,value:this.item.value.item.value})]:[];renderInput=()=>[m("input",W(this.props.inputAttrs,{ref:this.element,class:this.classes?.value.input,type:"text",value:this.item.basic.value,placeholder:"",onFocus:this.item.event.onFocus,onBlur:this.item.event.onBlur,onKeydown:this.item.event.onKeydown,onKeyup:this.item.event.onKeyup,onBeforeinput:this.item.event.onBeforeinput,onInput:this.item.event.onInput,onChange:this.item.event.onChange,onPaste:this.item.event.onPaste,onClick:this.item.event.onClick}))];renderView=()=>{const t=this.item.view.item.value,e=[];let i;return t.length>0?t.forEach((s,r)=>{e.push(m("span",{key:r,class:s.className,innerHTML:s.value===" "?"&nbsp;":s.value}))}):i="&nbsp;",[m("span",{class:this.classes?.value.character,"data-length":"1",...et.hidden(),innerHTML:i},e)]}}const x={align:["center","left","right"],dir:["ltr","rtl"]},Ft={...gt,visible:!0},Vt=z({name:"D1Mask",__name:"D1Mask",props:Z({name:{},value:{},valueDefault:{},currency:{},currencyHide:{type:Boolean},fullOnly:{type:Boolean},mask:{},special:{},match:{},groupSave:{type:Boolean},pattern:{type:[String,Object,Function]},check:{type:[String,Object,Function]},fraction:{type:[String,Boolean,Number]},type:{},view:{},inputAttrs:{},language:{},visible:{type:Boolean},visiblePartly:{type:Boolean},align:{},dir:{}},Ft),emits:["focus","blur","keydown","keyup","beforeinput","input","inputLite","change","changeLite","paste","reset"],setup(h,{expose:t,emit:e}){const i=e,s=h,r=a(()=>({main:{"d1-mask":!0,"d1-mask--visible":s.visible,"d1-mask--visiblePartly":s.visiblePartly,[`d1-mask--align--${s.align}`]:I(x.align,s.align),[`d1-mask--dir--${s.dir}`]:I(x.dir,s.dir)}})),n=a(()=>({})),u=new Tt("d1.mask",s,{emits:i,classes:r,styles:n}),l=u.render();return t(u.expose()),(c,o)=>(tt(),J(X(l)))}});Vt.__docgenInfo={name:"D1Mask",exportName:"default",displayName:"D1Mask",description:"",tags:{},props:[{name:"dir",required:!1,type:{name:"union",elements:[{name:'"ltr"'},{name:'"rtl"'}]}},{name:"align",required:!1,type:{name:"union",elements:[{name:'"center"'},{name:'"left"'},{name:'"right"'}]}},{name:"visiblePartly",required:!1,type:{name:"boolean"}},{name:"visible",required:!1,type:{name:"boolean"}}],sourceFiles:["/Volumes/T7/Code/dxt-ui/packages/d1/src/components/Ui/Mask/D1Mask.vue"]};export{p as F,Vt as _,Ft as d};
