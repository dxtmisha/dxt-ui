import{c as i,C as m,e as f,f as y,w as _,u as w,K as S,o as I,X as B,Y as x,j as C,h as N,l as o,Z as $,z as q,A,B as h,D as M,E as k,F as L}from"./iframe-BlCC38XJ.js";import{D as F}from"./index-C6jvvNQV.js";import{_ as T,D}from"./D1FieldLabel-JCZQSWTw.js";import{_ as P}from"./D1FieldMessage-BtS4W0mX.js";import{C as E}from"./CaptionInclude-CmRLOg2a.js";import{P as V,S as z}from"./SuffixInclude-B2DG8xjM.js";import{I as R,E as j,a as O}from"./IconTrailingInclude-Dl0qqbyn.js";import{A as b}from"./AriaStaticInclude-BOo8fnl5.js";import{F as v}from"./index-BTrSDyTf.js";import{S as U}from"./SkeletonInclude-BakuZ8u8.js";import{P as W}from"./ProgressInclude-Bat7cKAu.js";class H{constructor(e,t,a,s,r,d,l,c,u){this.props=e,this.className=t,this.components=a,this.slots=s,this.isCounter=r,this.labelId=d,this.counterId=l,this.extra=c,this.index=u,this.fieldCounter=new v(this.props,this.className)}fieldCounter;is=i(()=>m(this.props.label)||!!this.isCounter?.value);binds=i(()=>f(y(this.extra),this.isCounter?.value?this.fieldCounter.bindsIntermediary.value:{},{label:this.props.label,required:this.props.required,labelId:this.props.labelId??this.labelId,counterId:this.props.counterId??this.counterId},this.props.fieldLabelAttrs));render=()=>this.components&&this.is.value?this.components.render("fieldLabel",{...f(this.binds.value,{class:`${this.className}__fieldLabel`})},this.slots,this.index):[]}class K{constructor(e,t,a,s,r,d,l,c,u,g){this.props=e,this.className=t,this.components=a,this.validationMessage=s,this.isCounter=r,this.helperId=d,this.validationId=l,this.counterId=c,this.extra=u,this.index=g,this.fieldCounter=new v(this.props,this.className)}fieldCounter;validation=i(()=>m(this.props.validationMessage)?this.props.validationMessage:y(this.validationMessage));isValidationMessage=i(()=>m(this.validation.value));binds=i(()=>f(y(this.extra),this.isCounter?.value?this.fieldCounter.bindsIntermediary.value:{},{disabled:this.props.disabled,forceShow:this.props.forceShowMessage,helperMessage:this.props.helperMessage,validationMessage:this.validation.value,helperId:this.props.helperId??this.helperId,validationId:this.props.validationId??this.validationId,counterId:this.props.counterId??this.counterId},this.props.fieldMessageAttrs));render=()=>this.components?this.components.render("fieldMessage",{...f(this.binds.value,{class:`${this.className}__fieldMessage`})},void 0,this.index):[]}class X{constructor(e,t){this.props=e,this.className=t}isArrow=i(()=>!!((this.props.arrowCarousel||this.props.arrowStepper)&&!this.props.disabled));isCancel=i(()=>!!(this.props.cancel&&!this.props.readonly&&!this.props.disabled&&!this.props.arrowCarousel&&!this.props.arrowStepper&&(this.props.cancel==="auto"&&this.props.cancelShow||this.props.cancel==="always")));cancelBind=i(()=>({class:`${this.className}__cancel`,icon:this.props.iconClose,dynamic:!0,"data-event-type":"cancel"}));previousBind=i(()=>({class:`${this.className}__previous`,icon:this.props.arrowCarousel?this.props.iconArrowLeft:this.props.iconMinus,disabled:this.props.disabled||this.props.disabledPrevious,dynamic:!0,"data-event-type":"previous"}));nextBind=i(()=>({class:`${this.className}__next`,icon:this.props.arrowCarousel?this.props.iconArrowRight:this.props.iconPlus,disabled:this.props.disabled||this.props.disabledNext,dynamic:!0,"data-event-type":"next"}))}class Y{constructor(e,t){this.element=e,this.className=t,_(e,()=>this.update,{immediate:!0}),w()&&(this.event=new S(window,"resize",this.update),I(()=>this.event?.stop())),B(this.update),x(this.update)}left=0;right=0;title=0;event;update=()=>{requestAnimationFrame(()=>{const e=this.getElementSpace(),t=this.getElementPrefix();e&&(this.left=e.offsetLeft,this.right=(e.parentElement?.offsetWidth??0)-this.left-e.offsetWidth),this.title=t?.offsetLeft??e?.offsetLeft??0,this.make()})};getElementSpace(){return this.element.value?.querySelector(`.${this.className}__body__scoreboard__space`)??void 0}getElementPrefix(){return this.element.value?.querySelector(`.${this.className}__prefix`)??void 0}make(){const e=this.element.value;e&&(e.style.setProperty(`--${this.className}-sys-left`,`${this.left}px`),e.style.setProperty(`--${this.className}-sys-right`,`${this.right}px`),e.style.setProperty(`--${this.className}-sys-title`,`${this.title}px`),e.classList.contains(`${this.className}--show`)||requestAnimationFrame(()=>e.classList.add(`${this.className}--show`)))}}class Z{constructor(e,t,a,s,r,d,l,c){this.props=e,this.refs=t,this.element=a,this.classDesign=s,this.className=r,this.components=d,this.slots=l,this.emits=c,this.skeleton=new U(this.props,this.classDesign,["classBackground"]),this.icon=new R(this.props,this.className,this.components),this.caption=new E(this.props,this.className,this.slots),this.prefix=new V(this.props,this.className,this.slots),this.suffix=new z(this.props,this.className,this.slots),this.fieldLabel=new H(this.props,this.className,this.components,this.slots,this.refs.counterTop,this.labelId,this.counterId,this.skeleton.binds),this.fieldMessage=new K(this.props,this.className,this.components,void 0,i(()=>!this.props.counterTop),this.helperId,this.validationId,this.counterId,this.skeleton.binds),this.progress=new W(this.props,this.className,this.components,{circular:!0,position:"static",dense:!0}),this.enabled=new j(this.props,this.progress),this.event=new O(this.props,this.enabled,this.emits),this.icons=new X(this.props,this.className),this.size=new Y(this.element,this.className)}id=C();labelId=`${this.id}-label`;helperId=`${this.id}-helper`;validationId=`${this.id}-validation`;counterId=`${this.id}-counter`;icon;caption;prefix;suffix;fieldLabel;fieldMessage;progress;enabled;event;skeleton;icons;size;isValidation=i(()=>!!(this.props.validationMessage&&(this.props.forceShowMessage||!this.props.readonly&&!this.props.disabled)));classes=i(()=>({[`${this.className}--cancel`]:this.icons.isCancel.value,[`${this.className}--suffix`]:this.props.suffix,[`${this.className}--validation`]:this.isValidation.value}));control=i(()=>{const e=String(this.props.id||this.id),t=`${this.className}__body__input ${this.skeleton.classesSkeleton.classText}`;return{id:e,className:t,classHidden:`${this.className}__body__hidden`,classForFocus:`${this.className}__body__focus`,binds:{id:e,className:t,...b.labelledby(this.labelId),...b.describedby(this.getDescribedby()),...b.invalid(this.isValidation.value)}}});getDescribedby(){const e=[];return this.props.helperMessage&&e.push(this.helperId),this.isValidation.value&&e.push(this.validationId),this.props.counterShow&&e.push(this.counterId),e.join(" ")}}const G={arrowAlign:"right",cancel:"auto"};class J extends N{item;constructor(e,t,a){super(e,t,a),this.item=new Z(this.props,this.refs,this.element,this.getDesign(),this.getName(),this.components,this.slots,this.emits),this.init()}initExpose(){return{}}initClasses(){return{main:this.item.classes.value,body:this.getSubClass("body"),bodyInput:this.getSubClass("body__input"),bodyTitle:this.getSubClass("body__title"),bodyTitleLabel:this.getSubClass("body__title__label"),bodyTitleLabelText:this.getSubClass("body__title__label__text"),bodyScoreboard:this.getSubClass("body__scoreboard"),bodyScoreboardLeft:this.getSubClass("body__scoreboard__left"),bodyScoreboardRight:this.getSubClass("body__scoreboard__right"),bodyScoreboardSpace:this.getSubClass("body__scoreboard__space"),bodyScoreboardInput:this.getSubClass("body__scoreboard__input"),bodyBorder:this.getSubClass("body__border"),required:this.getSubClass("required")}}initStyles(){return{}}initRender(){const e=[];return this.props.classic&&!this.props.basic&&!this.props.boxed&&!this.props.filled&&!this.props.outlined&&!this.props.tonal&&e.push(...this.item.fieldLabel.render()),e.push(...this.renderBody(),...this.item.fieldMessage.render()),o("label",{...this.getAttrs(),ref:this.element,class:this.classes?.value.main,style:this.styles?.value},e)}renderBody=()=>{const e=[this.initSlot("default",void 0,this.item.control.value),this.renderBodyLabel(),this.renderBodyScoreboard(),this.renderBodyBorder()];return[o("span",{class:[this.classes?.value.body,this.item.skeleton.classes.value],onClick:this.item.event.onClick},e)]};renderBodyLabel=()=>{const e=[this.props.label];return this.props.required&&e.push(o("span",{class:this.classes?.value.required})),o("span",{class:this.classes?.value.bodyTitle},o("span",{class:this.classes?.value.bodyTitleLabel},o("span",{class:this.classes?.value.bodyTitleLabelText},e)))};renderBodyScoreboard=()=>{const e=[...this.renderBodyScoreboardSlot(),...this.renderBodyScoreboardIcon(),...this.item.prefix.render(),...this.item.suffix.render(),...this.item.progress.render(),...this.renderBodyScoreboardSpace()];return o("span",{class:this.classes?.value.bodyScoreboard,"data-element":"scoreboard"},e)};renderBodyScoreboardSlot=()=>{const e=[];return this.slots&&("leading"in this.slots&&e.push(o("span",{class:this.classes?.value.bodyScoreboardLeft},this.initSlot("leading"))),"trailing"in this.slots&&e.push(o("span",{class:this.classes?.value.bodyScoreboardRight},this.initSlot("trailing")))),e};renderBodyScoreboardIcon=()=>{const e=[...this.item.icon.render()];return this.item.icons.isCancel.value&&this.components.renderAdd(e,"icon",this.item.icons.cancelBind.value,void 0,"cancel"),this.item.icons.isArrow.value&&(this.components.renderAdd(e,"icon",this.item.icons.previousBind.value,void 0,"previous"),this.components.renderAdd(e,"icon",this.item.icons.nextBind.value,void 0,"next")),e};renderBodyScoreboardSpace=()=>{const e=[];return this.item.caption.is.value&&e.push(o("span",{class:this.classes?.value.bodyScoreboardInput,style:`min-width: ${this.lengthValue()};`},this.focusValue()),...this.item.caption.render()),[o("span",{class:this.classes?.value.bodyScoreboardSpace},e)]};renderBodyBorder=()=>o("span",{class:this.classes?.value.bodyBorder});focusValue=()=>!this.lengthElement.value&&$(this.props.value)?this.props.value:"";lengthValue=()=>{if(this.lengthElement.value)return`${this.lengthElement.value.offsetWidth}px`};lengthElement=i(()=>this.element.value?.querySelector("*[data-length]")??void 0);inputElement=i(()=>this.element.value?.querySelector(`input.${this.classes?.value.bodyInput}, .${this.classes?.value.bodyInput} input`)??void 0)}const Q=T,ee=P,p={arrowAlign:["center","right","left"],cancel:["auto","always","none"],align:["center","right","left"],width:[],size:["sm","md","lg","display"]},se={...G,iconArrowLeft:"keyboard_arrow_left",iconArrowRight:"keyboard_arrow_right",iconPlus:"add",iconMinus:"remove",iconClose:"close_small",classic:!0,arrowAlign:"right",cancel:"auto",size:"md"},te=q({name:"D1Field",__name:"D1Field",props:A({disabledPrevious:{type:Boolean},disabledNext:{type:Boolean},id:{},counterTop:{type:Boolean},cancelShow:{type:Boolean},iconArrowLeft:{},iconArrowRight:{},iconPlus:{},iconMinus:{},iconClose:{},iconTrailing:{},iconTrailingTurnOnly:{type:Boolean},iconTrailingDirOnly:{type:Boolean},iconTrailingPalette:{type:Boolean},selected:{type:Boolean},iconTurn:{type:Boolean},iconHide:{type:Boolean},iconDir:{type:Boolean},iconPalette:{type:Boolean},iconAttrs:{},icon:{},prefix:{},suffix:{},caption:{},required:{type:Boolean},fieldLabelAttrs:{},label:{},labelId:{},counter:{},counterShow:{type:Boolean},counterTemplate:{},counterId:{},maxlength:{},fieldCounterAttrs:{},forceShowMessage:{type:Boolean},disabled:{type:Boolean},helperMessage:{},validationMessage:{},fieldMessageAttrs:{},helperId:{},validationId:{},loading:{type:[Boolean,Object]},readonly:{type:Boolean},to:{},value:{},detail:{},isSkeleton:{type:Boolean},focus:{type:Boolean},block:{type:Boolean},isValue:{type:Boolean},basic:{type:Boolean},boxed:{type:Boolean},tonal:{type:Boolean},filled:{type:Boolean},outlined:{type:Boolean},classic:{type:Boolean},arrowCarousel:{type:Boolean},arrowStepper:{type:Boolean},arrowAlign:{},cancel:{},align:{},width:{},size:{}},se),emits:["click","clickLite"],setup(n,{expose:e,emit:t}){const a=t,s=n,r=i(()=>({main:{"d1-field":!0,"d1-field--focus":s.focus,"d1-field--disabled":s.disabled,"d1-field--selected":s.selected,"d1-field--readonly":s.readonly,"d1-field--block":s.block,"d1-field--isValue":s.isValue,"d1-field--basic":s.basic,"d1-field--boxed":s.boxed,"d1-field--tonal":s.tonal,"d1-field--filled":s.filled,"d1-field--outlined":s.outlined,"d1-field--classic":s.classic&&!s.basic&&!s.boxed&&!s.tonal&&!s.filled&&!s.outlined,"d1-field--arrowCarousel":s.arrowCarousel,"d1-field--arrowStepper":s.arrowStepper,[`d1-field--arrowAlign--${s.arrowAlign}`]:h(p.arrowAlign,s.arrowAlign),[`d1-field--cancel--${s.cancel}`]:h(p.cancel,s.cancel),[`d1-field--align--${s.align}`]:h(p.align,s.align),"d1-field--width--custom":m(s.width)&&!h(p.width,s.width),[`d1-field--size--${s.size}`]:h(p.size,s.size)}})),d=i(()=>({"--d1-field-sys-width":s.width??null})),l=new J("d1.field",s,{emits:a,classes:r,styles:d,components:{icon:F,fieldLabel:Q,fieldMessage:ee,progress:D},compMod:{icon:{rounded:"full"},iconTrailing:{rounded:"full"},cancel:{rounded:"full"},previous:{rounded:"full"},next:{rounded:"full"}}}),c=l.render();return e(l.expose()),(u,g)=>(L(),M(k(c)))}});te.__docgenInfo={name:"D1Field",exportName:"default",displayName:"D1Field",description:"",tags:{},props:[{name:"size",required:!1,type:{name:"union",elements:[{name:'"sm"'},{name:'"md"'},{name:'"lg"'},{name:'"display"'}]}},{name:"width",required:!1,type:{name:"union",elements:[{name:"string"},{name:'"custom"'}]}},{name:"align",required:!1,type:{name:"union",elements:[{name:'"center"'},{name:'"right"'},{name:'"left"'}]}},{name:"cancel",required:!1,type:{name:"union",elements:[{name:'"auto"'},{name:'"always"'},{name:'"none"'}]}},{name:"arrowAlign",required:!1,type:{name:"union",elements:[{name:'"center"'},{name:'"right"'},{name:'"left"'}]}},{name:"arrowStepper",required:!1,type:{name:"boolean"}},{name:"arrowCarousel",required:!1,type:{name:"boolean"}},{name:"classic",required:!1,type:{name:"boolean"}},{name:"outlined",required:!1,type:{name:"boolean"}},{name:"filled",required:!1,type:{name:"boolean"}},{name:"tonal",required:!1,type:{name:"boolean"}},{name:"boxed",required:!1,type:{name:"boolean"}},{name:"basic",required:!1,type:{name:"boolean"}},{name:"isValue",required:!1,type:{name:"boolean"}},{name:"block",required:!1,type:{name:"boolean"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"selected",required:!1,type:{name:"boolean"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"focus",required:!1,type:{name:"boolean"}}],sourceFiles:["/Volumes/T7/Code/dxt-ui/packages/d1/src/components/Ui/Field/D1Field.vue"]};export{te as _,se as d};
