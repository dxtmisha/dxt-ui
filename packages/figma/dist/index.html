<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@dxtmisha/figma</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ao(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ne={},dt=[],Le=()=>{},Us=()=>!1,yn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),fo=t=>t.startsWith("onUpdate:"),fe=Object.assign,co=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},il=Object.prototype.hasOwnProperty,Y=(t,e)=>il.call(t,e),J=Array.isArray,Ut=t=>_n(t)==="[object Map]",sl=t=>_n(t)==="[object Set]",b=t=>typeof t=="function",le=t=>typeof t=="string",Et=t=>typeof t=="symbol",re=t=>t!==null&&typeof t=="object",Ls=t=>(re(t)||b(t))&&b(t.then)&&b(t.catch),rl=Object.prototype.toString,_n=t=>rl.call(t),ll=t=>_n(t).slice(8,-1),ul=t=>_n(t)==="[object Object]",po=t=>le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Lt=ao(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tn=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},al=/-\w/g,ze=Tn(t=>t.replace(al,e=>e.slice(1).toUpperCase())),fl=/\B([A-Z])/g,rt=Tn(t=>t.replace(fl,"-$1").toLowerCase()),Fs=Tn(t=>t.charAt(0).toUpperCase()+t.slice(1)),xn=Tn(t=>t?`on${Fs(t)}`:""),nt=(t,e)=>!Object.is(t,e),Nn=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ks=(t,e,n,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:n})},cl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let bo;const Cn=()=>bo||(bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ho(t){if(J(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],i=le(o)?ml(o):ho(o);if(i)for(const r in i)e[r]=i[r]}return e}else if(le(t)||re(t))return t}const dl=/;(?![^(]*\))/g,pl=/:([^]+)/,hl=/\/\*[^]*?\*\//g;function ml(t){const e={};return t.replace(hl,"").split(dl).forEach(n=>{if(n){const o=n.split(pl);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function mo(t){let e="";if(le(t))e=t;else if(J(t))for(let n=0;n<t.length;n++){const o=mo(t[n]);o&&(e+=o+" ")}else if(re(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const gl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yl=ao(gl);function Vs(t){return!!t||t===""}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _e;class _l{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_e,!e&&_e&&(this.index=(_e.scopes||(_e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=_e;try{return _e=this,e()}finally{_e=n}}}on(){++this._on===1&&(this.prevScope=_e,_e=this)}off(){this._on>0&&--this._on===0&&(_e=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Tl(){return _e}let te;const Dn=new WeakSet;class qs{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_e&&_e.active&&_e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dn.has(this)&&(Dn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hs(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Jo(this),Bs(this);const e=te,n=Ie;te=this,Ie=!0;try{return this.fn()}finally{bs(this),te=e,Ie=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_o(e);this.deps=this.depsTail=void 0,Jo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let Gs=0,Ft,kt;function Hs(t,e=!1){if(t.flags|=8,e){t.next=kt,kt=t;return}t.next=Ft,Ft=t}function go(){Gs++}function yo(){if(--Gs>0)return;if(kt){let e=kt;for(kt=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ft;){let e=Ft;for(Ft=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}function Bs(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function bs(t){let e,n=t.depsTail,o=n;for(;o;){const i=o.prevDep;o.version===-1?(o===n&&(n=i),_o(o),Cl(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}t.deps=e,t.depsTail=n}function bn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Js(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Js(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Jt)||(t.globalVersion=Jt,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!bn(t))))return;t.flags|=2;const e=t.dep,n=te,o=Ie;te=t,Ie=!0;try{Bs(t);const i=t.fn(t._value);(e.version===0||nt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{te=n,Ie=o,bs(t),t.flags&=-3}}function _o(t,e=!1){const{dep:n,prevSub:o,nextSub:i}=t;if(o&&(o.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=o,t.nextSub=void 0),n.subs===t&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)_o(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Cl(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ie=!0;const $s=[];function Be(){$s.push(Ie),Ie=!1}function be(){const t=$s.pop();Ie=t===void 0?!0:t}function Jo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=te;te=void 0;try{e()}finally{te=n}}}let Jt=0;class El{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ws{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!te||!Ie||te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==te)n=this.activeLink=new El(te,this),te.deps?(n.prevDep=te.depsTail,te.depsTail.nextDep=n,te.depsTail=n):te.deps=te.depsTail=n,Ks(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=te.depsTail,n.nextDep=void 0,te.depsTail.nextDep=n,te.depsTail=n,te.deps===n&&(te.deps=o)}return n}trigger(e){this.version++,Jt++,this.notify(e)}notify(e){go();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{yo()}}}function Ks(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)Ks(o)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Jn=new WeakMap,ot=Symbol(""),$n=Symbol(""),$t=Symbol("");function ue(t,e,n){if(Ie&&te){let o=Jn.get(t);o||Jn.set(t,o=new Map);let i=o.get(n);i||(o.set(n,i=new Ws),i.map=o,i.key=n),i.track()}}function He(t,e,n,o,i,r){const u=Jn.get(t);if(!u){Jt++;return}const a=f=>{f&&f.trigger()};if(go(),e==="clear")u.forEach(a);else{const f=J(t),c=f&&po(n);if(f&&n==="length"){const d=Number(o);u.forEach((p,h)=>{(h==="length"||h===$t||!Et(h)&&h>=d)&&a(p)})}else switch((n!==void 0||u.has(void 0))&&a(u.get(n)),c&&a(u.get($t)),e){case"add":f?c&&a(u.get("length")):(a(u.get(ot)),Ut(t)&&a(u.get($n)));break;case"delete":f||(a(u.get(ot)),Ut(t)&&a(u.get($n)));break;case"set":Ut(t)&&a(u.get(ot));break}}yo()}function at(t){const e=z(t);return e===t?e:(ue(e,"iterate",$t),Fe(t)?e:e.map(Ee))}function To(t){return ue(t=z(t),"iterate",$t),t}const vl={__proto__:null,[Symbol.iterator](){return Un(this,Symbol.iterator,Ee)},concat(...t){return at(this).concat(...t.map(e=>J(e)?at(e):e))},entries(){return Un(this,"entries",t=>(t[1]=Ee(t[1]),t))},every(t,e){return Ve(this,"every",t,e,void 0,arguments)},filter(t,e){return Ve(this,"filter",t,e,n=>n.map(Ee),arguments)},find(t,e){return Ve(this,"find",t,e,Ee,arguments)},findIndex(t,e){return Ve(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ve(this,"findLast",t,e,Ee,arguments)},findLastIndex(t,e){return Ve(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ve(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ln(this,"includes",t)},indexOf(...t){return Ln(this,"indexOf",t)},join(t){return at(this).join(t)},lastIndexOf(...t){return Ln(this,"lastIndexOf",t)},map(t,e){return Ve(this,"map",t,e,void 0,arguments)},pop(){return wt(this,"pop")},push(...t){return wt(this,"push",t)},reduce(t,...e){return $o(this,"reduce",t,e)},reduceRight(t,...e){return $o(this,"reduceRight",t,e)},shift(){return wt(this,"shift")},some(t,e){return Ve(this,"some",t,e,void 0,arguments)},splice(...t){return wt(this,"splice",t)},toReversed(){return at(this).toReversed()},toSorted(t){return at(this).toSorted(t)},toSpliced(...t){return at(this).toSpliced(...t)},unshift(...t){return wt(this,"unshift",t)},values(){return Un(this,"values",Ee)}};function Un(t,e,n){const o=To(t),i=o[e]();return o!==t&&!Fe(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const Sl=Array.prototype;function Ve(t,e,n,o,i,r){const u=To(t),a=u!==t&&!Fe(t),f=u[e];if(f!==Sl[e]){const p=f.apply(t,r);return a?Ee(p):p}let c=n;u!==t&&(a?c=function(p,h){return n.call(this,Ee(p),h,t)}:n.length>2&&(c=function(p,h){return n.call(this,p,h,t)}));const d=f.call(u,c,o);return a&&i?i(d):d}function $o(t,e,n,o){const i=To(t);let r=n;return i!==t&&(Fe(t)?n.length>3&&(r=function(u,a,f){return n.call(this,u,a,f,t)}):r=function(u,a,f){return n.call(this,u,Ee(a),f,t)}),i[e](r,...o)}function Ln(t,e,n){const o=z(t);ue(o,"iterate",$t);const i=o[e](...n);return(i===-1||i===!1)&&So(n[0])?(n[0]=z(n[0]),o[e](...n)):i}function wt(t,e,n=[]){Be(),go();const o=z(t)[e].apply(t,n);return yo(),be(),o}const Il=ao("__proto__,__v_isRef,__isVue"),Ys=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Et));function Al(t){Et(t)||(t=String(t));const e=z(this);return ue(e,"has",t),e.hasOwnProperty(t)}class Os{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(i?r?Fl:Zs:r?Qs:Xs).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const u=J(e);if(!i){let f;if(u&&(f=vl[n]))return f;if(n==="hasOwnProperty")return Al}const a=Reflect.get(e,n,me(e)?e:o);if((Et(n)?Ys.has(n):Il(n))||(i||ue(e,"get",n),r))return a;if(me(a)){const f=u&&po(n)?a:a.value;return i&&re(f)?Kn(f):f}return re(a)?i?Kn(a):Eo(a):a}}class zs extends Os{constructor(e=!1){super(!1,e)}set(e,n,o,i){let r=e[n];if(!this._isShallow){const f=_t(r);if(!Fe(o)&&!_t(o)&&(r=z(r),o=z(o)),!J(e)&&me(r)&&!me(o))return f||(r.value=o),!0}const u=J(e)&&po(n)?Number(n)<e.length:Y(e,n),a=Reflect.set(e,n,o,me(e)?e:i);return e===z(i)&&(u?nt(o,r)&&He(e,"set",n,o):He(e,"add",n,o)),a}deleteProperty(e,n){const o=Y(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&o&&He(e,"delete",n,void 0),i}has(e,n){const o=Reflect.has(e,n);return(!Et(n)||!Ys.has(n))&&ue(e,"has",n),o}ownKeys(e){return ue(e,"iterate",J(e)?"length":ot),Reflect.ownKeys(e)}}class Rl extends Os{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Pl=new zs,Ml=new Rl,wl=new zs(!0);const Wn=t=>t,jt=t=>Reflect.getPrototypeOf(t);function xl(t,e,n){return function(...o){const i=this.__v_raw,r=z(i),u=Ut(r),a=t==="entries"||t===Symbol.iterator&&u,f=t==="keys"&&u,c=i[t](...o),d=n?Wn:e?Yn:Ee;return!e&&ue(r,"iterate",f?$n:ot),{next(){const{value:p,done:h}=c.next();return h?{value:p,done:h}:{value:a?[d(p[0]),d(p[1])]:d(p),done:h}},[Symbol.iterator](){return this}}}}function en(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Nl(t,e){const n={get(i){const r=this.__v_raw,u=z(r),a=z(i);t||(nt(i,a)&&ue(u,"get",i),ue(u,"get",a));const{has:f}=jt(u),c=e?Wn:t?Yn:Ee;if(f.call(u,i))return c(r.get(i));if(f.call(u,a))return c(r.get(a));r!==u&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ue(z(i),"iterate",ot),i.size},has(i){const r=this.__v_raw,u=z(r),a=z(i);return t||(nt(i,a)&&ue(u,"has",i),ue(u,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const u=this,a=u.__v_raw,f=z(a),c=e?Wn:t?Yn:Ee;return!t&&ue(f,"iterate",ot),a.forEach((d,p)=>i.call(r,c(d),c(p),u))}};return fe(n,t?{add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear")}:{add(i){!e&&!Fe(i)&&!_t(i)&&(i=z(i));const r=z(this);return jt(r).has.call(r,i)||(r.add(i),He(r,"add",i,i)),this},set(i,r){!e&&!Fe(r)&&!_t(r)&&(r=z(r));const u=z(this),{has:a,get:f}=jt(u);let c=a.call(u,i);c||(i=z(i),c=a.call(u,i));const d=f.call(u,i);return u.set(i,r),c?nt(r,d)&&He(u,"set",i,r):He(u,"add",i,r),this},delete(i){const r=z(this),{has:u,get:a}=jt(r);let f=u.call(r,i);f||(i=z(i),f=u.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return f&&He(r,"delete",i,void 0),c},clear(){const i=z(this),r=i.size!==0,u=i.clear();return r&&He(i,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=xl(i,t,e)}),n}function Co(t,e){const n=Nl(t,e);return(o,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?o:Reflect.get(Y(n,i)&&i in o?n:o,i,r)}const Dl={get:Co(!1,!1)},Ul={get:Co(!1,!0)},Ll={get:Co(!0,!1)};const Xs=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,Fl=new WeakMap;function kl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vl(t){return t.__v_skip||!Object.isExtensible(t)?0:kl(ll(t))}function Eo(t){return _t(t)?t:vo(t,!1,Pl,Dl,Xs)}function ql(t){return vo(t,!1,wl,Ul,Qs)}function Kn(t){return vo(t,!0,Ml,Ll,Zs)}function vo(t,e,n,o,i){if(!re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Vl(t);if(r===0)return t;const u=i.get(t);if(u)return u;const a=new Proxy(t,r===2?o:n);return i.set(t,a),a}function Vt(t){return _t(t)?Vt(t.__v_raw):!!(t&&t.__v_isReactive)}function _t(t){return!!(t&&t.__v_isReadonly)}function Fe(t){return!!(t&&t.__v_isShallow)}function So(t){return t?!!t.__v_raw:!1}function z(t){const e=t&&t.__v_raw;return e?z(e):t}function Gl(t){return!Y(t,"__v_skip")&&Object.isExtensible(t)&&ks(t,"__v_skip",!0),t}const Ee=t=>re(t)?Eo(t):t,Yn=t=>re(t)?Kn(t):t;function me(t){return t?t.__v_isRef===!0:!1}function Hl(t){return me(t)?t.value:t}const Bl={get:(t,e,n)=>e==="__v_raw"?t:Hl(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const i=t[e];return me(i)&&!me(n)?(i.value=n,!0):Reflect.set(t,e,n,o)}};function js(t){return Vt(t)?t:new Proxy(t,Bl)}class bl{constructor(e,n,o){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ws(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return Hs(this,!0),!0}get value(){const e=this.dep.track();return Js(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Jl(t,e,n=!1){let o,i;return b(t)?o=t:(o=t.get,i=t.set),new bl(o,i,n)}const tn={},un=new WeakMap;let tt;function $l(t,e=!1,n=tt){if(n){let o=un.get(n);o||un.set(n,o=[]),o.push(t)}}function Wl(t,e,n=ne){const{immediate:o,deep:i,once:r,scheduler:u,augmentJob:a,call:f}=n,c=A=>i?A:Fe(A)||i===!1||i===0?Ye(A,1):Ye(A);let d,p,h,g,T=!1,C=!1;if(me(t)?(p=()=>t.value,T=Fe(t)):Vt(t)?(p=()=>c(t),T=!0):J(t)?(C=!0,T=t.some(A=>Vt(A)||Fe(A)),p=()=>t.map(A=>{if(me(A))return A.value;if(Vt(A))return c(A);if(b(A))return f?f(A,2):A()})):b(t)?e?p=f?()=>f(t,2):t:p=()=>{if(h){Be();try{h()}finally{be()}}const A=tt;tt=d;try{return f?f(t,3,[g]):t(g)}finally{tt=A}}:p=Le,e&&i){const A=p,F=i===!0?1/0:i;p=()=>Ye(A(),F)}const D=Tl(),R=()=>{d.stop(),D&&D.active&&co(D.effects,d)};if(r&&e){const A=e;e=(...F)=>{A(...F),R()}}let w=C?new Array(t.length).fill(tn):tn;const P=A=>{if(!(!(d.flags&1)||!d.dirty&&!A))if(e){const F=d.run();if(i||T||(C?F.some((G,B)=>nt(G,w[B])):nt(F,w))){h&&h();const G=tt;tt=d;try{const B=[F,w===tn?void 0:C&&w[0]===tn?[]:w,g];w=F,f?f(e,3,B):e(...B)}finally{tt=G}}}else d.run()};return a&&a(P),d=new qs(p),d.scheduler=u?()=>u(P,!1):P,g=A=>$l(A,!1,d),h=d.onStop=()=>{const A=un.get(d);if(A){if(f)f(A,4);else for(const F of A)F();un.delete(d)}},e?o?P(!0):w=d.run():u?u(P.bind(null,!0),!0):d.run(),R.pause=d.pause.bind(d),R.resume=d.resume.bind(d),R.stop=R,R}function Ye(t,e=1/0,n){if(e<=0||!re(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,me(t))Ye(t.value,e,n);else if(J(t))for(let o=0;o<t.length;o++)Ye(t[o],e,n);else if(sl(t)||Ut(t))t.forEach(o=>{Ye(o,e,n)});else if(ul(t)){for(const o in t)Ye(t[o],e,n);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Ye(t[o],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ot(t,e,n,o){try{return o?t(...o):t()}catch(i){En(i,e,n)}}function ke(t,e,n,o){if(b(t)){const i=Ot(t,e,n,o);return i&&Ls(i)&&i.catch(r=>{En(r,e,n)}),i}if(J(t)){const i=[];for(let r=0;r<t.length;r++)i.push(ke(t[r],e,n,o));return i}}function En(t,e,n,o=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:u}=e&&e.appContext.config||ne;if(e){let a=e.parent;const f=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,f,c)===!1)return}a=a.parent}if(r){Be(),Ot(r,null,10,[t,f,c]),be();return}}Kl(t,n,i,o,u)}function Kl(t,e,n,o=!0,i=!1){if(i)throw t;console.error(t)}const pe=[];let Ne=-1;const pt=[];let We=null,ft=0;const er=Promise.resolve();let an=null;function Yl(t){const e=an||er;return t?e.then(this?t.bind(this):t):e}function Ol(t){let e=Ne+1,n=pe.length;for(;e<n;){const o=e+n>>>1,i=pe[o],r=Wt(i);r<t||r===t&&i.flags&2?e=o+1:n=o}return e}function Io(t){if(!(t.flags&1)){const e=Wt(t),n=pe[pe.length-1];!n||!(t.flags&2)&&e>=Wt(n)?pe.push(t):pe.splice(Ol(e),0,t),t.flags|=1,tr()}}function tr(){an||(an=er.then(or))}function zl(t){J(t)?pt.push(...t):We&&t.id===-1?We.splice(ft+1,0,t):t.flags&1||(pt.push(t),t.flags|=1),tr()}function Wo(t,e,n=Ne+1){for(;n<pe.length;n++){const o=pe[n];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;pe.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function nr(t){if(pt.length){const e=[...new Set(pt)].sort((n,o)=>Wt(n)-Wt(o));if(pt.length=0,We){We.push(...e);return}for(We=e,ft=0;ft<We.length;ft++){const n=We[ft];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}We=null,ft=0}}const Wt=t=>t.id==null?t.flags&2?-1:1/0:t.id;function or(t){try{for(Ne=0;Ne<pe.length;Ne++){const e=pe[Ne];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ot(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ne<pe.length;Ne++){const e=pe[Ne];e&&(e.flags&=-2)}Ne=-1,pe.length=0,nr(),an=null,(pe.length||pt.length)&&or()}}let Ue=null,ir=null;function fn(t){const e=Ue;return Ue=t,ir=t&&t.type.__scopeId||null,e}function Xl(t,e=Ue,n){if(!e||t._n)return t;const o=(...i)=>{o._d&&ti(-1);const r=fn(e);let u;try{u=t(...i)}finally{fn(r),o._d&&ti(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function je(t,e,n,o){const i=t.dirs,r=e&&e.dirs;for(let u=0;u<i.length;u++){const a=i[u];r&&(a.oldValue=r[u].value);let f=a.dir[o];f&&(Be(),ke(f,n,8,[t.el,a,t,e]),be())}}const Ql=Symbol("_vte"),Zl=t=>t.__isTeleport,jl=Symbol("_leaveCb");function Ao(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ao(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function eu(t,e){return b(t)?fe({name:t.name},e,{setup:t}):t}function sr(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const cn=new WeakMap;function qt(t,e,n,o,i=!1){if(J(t)){t.forEach((T,C)=>qt(T,e&&(J(e)?e[C]:e),n,o,i));return}if(Gt(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&qt(t,e,n,o.component.subTree);return}const r=o.shapeFlag&4?xo(o.component):o.el,u=i?null:r,{i:a,r:f}=t,c=e&&e.r,d=a.refs===ne?a.refs={}:a.refs,p=a.setupState,h=z(p),g=p===ne?Us:T=>Y(h,T);if(c!=null&&c!==f){if(Ko(e),le(c))d[c]=null,g(c)&&(p[c]=null);else if(me(c)){c.value=null;const T=e;T.k&&(d[T.k]=null)}}if(b(f))Ot(f,a,12,[u,d]);else{const T=le(f),C=me(f);if(T||C){const D=()=>{if(t.f){const R=T?g(f)?p[f]:d[f]:f.value;if(i)J(R)&&co(R,r);else if(J(R))R.includes(r)||R.push(r);else if(T)d[f]=[r],g(f)&&(p[f]=d[f]);else{const w=[r];f.value=w,t.k&&(d[t.k]=w)}}else T?(d[f]=u,g(f)&&(p[f]=u)):C&&(f.value=u,t.k&&(d[t.k]=u))};if(u){const R=()=>{D(),cn.delete(t)};R.id=-1,cn.set(t,R),Ce(R,n)}else Ko(t),D()}}}function Ko(t){const e=cn.get(t);e&&(e.flags|=8,cn.delete(t))}Cn().requestIdleCallback;Cn().cancelIdleCallback;const Gt=t=>!!t.type.__asyncLoader,rr=t=>t.type.__isKeepAlive;function tu(t,e){lr(t,"a",e)}function nu(t,e){lr(t,"da",e)}function lr(t,e,n=he){const o=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(vn(e,o,n),n){let i=n.parent;for(;i&&i.parent;)rr(i.parent.vnode)&&ou(o,e,n,i),i=i.parent}}function ou(t,e,n,o){const i=vn(e,t,o,!0);ur(()=>{co(o[e],i)},n)}function vn(t,e,n=he,o=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...u)=>{Be();const a=zt(n),f=ke(e,n,t,u);return a(),be(),f});return o?i.unshift(r):i.push(r),r}}const Je=t=>(e,n=he)=>{(!Yt||t==="sp")&&vn(t,(...o)=>e(...o),n)},iu=Je("bm"),su=Je("m"),ru=Je("bu"),lu=Je("u"),uu=Je("bum"),ur=Je("um"),au=Je("sp"),fu=Je("rtg"),cu=Je("rtc");function du(t,e=he){vn("ec",t,e)}const pu=Symbol.for("v-ndc"),On=t=>t?Mr(t)?xo(t):On(t.parent):null,Ht=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>On(t.parent),$root:t=>On(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>fr(t),$forceUpdate:t=>t.f||(t.f=()=>{Io(t.update)}),$nextTick:t=>t.n||(t.n=Yl.bind(t.proxy)),$watch:t=>Fu.bind(t)}),Fn=(t,e)=>t!==ne&&!t.__isScriptSetup&&Y(t,e),hu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:o,data:i,props:r,accessCache:u,type:a,appContext:f}=t;let c;if(e[0]!=="$"){const g=u[e];if(g!==void 0)switch(g){case 1:return o[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Fn(o,e))return u[e]=1,o[e];if(i!==ne&&Y(i,e))return u[e]=2,i[e];if((c=t.propsOptions[0])&&Y(c,e))return u[e]=3,r[e];if(n!==ne&&Y(n,e))return u[e]=4,n[e];zn&&(u[e]=0)}}const d=Ht[e];let p,h;if(d)return e==="$attrs"&&ue(t.attrs,"get",""),d(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==ne&&Y(n,e))return u[e]=4,n[e];if(h=f.config.globalProperties,Y(h,e))return h[e]},set({_:t},e,n){const{data:o,setupState:i,ctx:r}=t;return Fn(i,e)?(i[e]=n,!0):o!==ne&&Y(o,e)?(o[e]=n,!0):Y(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:i,propsOptions:r,type:u}},a){let f,c;return!!(n[a]||t!==ne&&a[0]!=="$"&&Y(t,a)||Fn(e,a)||(f=r[0])&&Y(f,a)||Y(o,a)||Y(Ht,a)||Y(i.config.globalProperties,a)||(c=u.__cssModules)&&c[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Y(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Yo(t){return J(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let zn=!0;function mu(t){const e=fr(t),n=t.proxy,o=t.ctx;zn=!1,e.beforeCreate&&Oo(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:u,watch:a,provide:f,inject:c,created:d,beforeMount:p,mounted:h,beforeUpdate:g,updated:T,activated:C,deactivated:D,beforeDestroy:R,beforeUnmount:w,destroyed:P,unmounted:A,render:F,renderTracked:G,renderTriggered:B,errorCaptured:Z,serverPrefetch:q,expose:$,inheritAttrs:se,components:X,directives:ce,filters:ut}=e;if(c&&gu(c,o,null),u)for(const Q in u){const j=u[Q];b(j)&&(o[Q]=j.bind(n))}if(i){const Q=i.call(n,n);re(Q)&&(t.data=Eo(Q))}if(zn=!0,r)for(const Q in r){const j=r[Q],Qe=b(j)?j.bind(n,n):b(j.get)?j.get.bind(n,n):Le,Qt=!b(j)&&b(j.set)?j.set.bind(n):Le,Ze=la({get:Qe,set:Qt});Object.defineProperty(o,Q,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:Re=>Ze.value=Re})}if(a)for(const Q in a)ar(a[Q],o,n,Q);if(f){const Q=b(f)?f.call(n):f;Reflect.ownKeys(Q).forEach(j=>{vu(j,Q[j])})}d&&Oo(d,t,"c");function oe(Q,j){J(j)?j.forEach(Qe=>Q(Qe.bind(n))):j&&Q(j.bind(n))}if(oe(iu,p),oe(su,h),oe(ru,g),oe(lu,T),oe(tu,C),oe(nu,D),oe(du,Z),oe(cu,G),oe(fu,B),oe(uu,w),oe(ur,A),oe(au,q),J($))if($.length){const Q=t.exposed||(t.exposed={});$.forEach(j=>{Object.defineProperty(Q,j,{get:()=>n[j],set:Qe=>n[j]=Qe,enumerable:!0})})}else t.exposed||(t.exposed={});F&&t.render===Le&&(t.render=F),se!=null&&(t.inheritAttrs=se),X&&(t.components=X),ce&&(t.directives=ce),q&&sr(t)}function gu(t,e,n=Le){J(t)&&(t=Xn(t));for(const o in t){const i=t[o];let r;re(i)?"default"in i?r=nn(i.from||o,i.default,!0):r=nn(i.from||o):r=nn(i),me(r)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:u=>r.value=u}):e[o]=r}}function Oo(t,e,n){ke(J(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function ar(t,e,n,o){let i=o.includes(".")?Sr(n,o):()=>n[o];if(le(t)){const r=e[t];b(r)&&Vn(i,r)}else if(b(t))Vn(i,t.bind(n));else if(re(t))if(J(t))t.forEach(r=>ar(r,e,n,o));else{const r=b(t.handler)?t.handler.bind(n):e[t.handler];b(r)&&Vn(i,r,t)}}function fr(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:u}}=t.appContext,a=r.get(e);let f;return a?f=a:!i.length&&!n&&!o?f=e:(f={},i.length&&i.forEach(c=>dn(f,c,u,!0)),dn(f,e,u)),re(e)&&r.set(e,f),f}function dn(t,e,n,o=!1){const{mixins:i,extends:r}=e;r&&dn(t,r,n,!0),i&&i.forEach(u=>dn(t,u,n,!0));for(const u in e)if(!(o&&u==="expose")){const a=yu[u]||n&&n[u];t[u]=a?a(t[u],e[u]):e[u]}return t}const yu={data:zo,props:Xo,emits:Xo,methods:Dt,computed:Dt,beforeCreate:de,created:de,beforeMount:de,mounted:de,beforeUpdate:de,updated:de,beforeDestroy:de,beforeUnmount:de,destroyed:de,unmounted:de,activated:de,deactivated:de,errorCaptured:de,serverPrefetch:de,components:Dt,directives:Dt,watch:Tu,provide:zo,inject:_u};function zo(t,e){return e?t?function(){return fe(b(t)?t.call(this,this):t,b(e)?e.call(this,this):e)}:e:t}function _u(t,e){return Dt(Xn(t),Xn(e))}function Xn(t){if(J(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function de(t,e){return t?[...new Set([].concat(t,e))]:e}function Dt(t,e){return t?fe(Object.create(null),t,e):e}function Xo(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:fe(Object.create(null),Yo(t),Yo(e??{})):e}function Tu(t,e){if(!t)return e;if(!e)return t;const n=fe(Object.create(null),t);for(const o in e)n[o]=de(t[o],e[o]);return n}function cr(){return{app:null,config:{isNativeTag:Us,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cu=0;function Eu(t,e){return function(o,i=null){b(o)||(o=fe({},o)),i!=null&&!re(i)&&(i=null);const r=cr(),u=new WeakSet,a=[];let f=!1;const c=r.app={_uid:Cu++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:ua,get config(){return r.config},set config(d){},use(d,...p){return u.has(d)||(d&&b(d.install)?(u.add(d),d.install(c,...p)):b(d)&&(u.add(d),d(c,...p))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,p){return p?(r.components[d]=p,c):r.components[d]},directive(d,p){return p?(r.directives[d]=p,c):r.directives[d]},mount(d,p,h){if(!f){const g=c._ceVNode||it(o,i);return g.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),t(g,d,h),f=!0,c._container=d,d.__vue_app__=c,xo(g.component)}},onUnmount(d){a.push(d)},unmount(){f&&(ke(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,p){return r.provides[d]=p,c},runWithContext(d){const p=ht;ht=c;try{return d()}finally{ht=p}}};return c}}let ht=null;function vu(t,e){if(he){let n=he.provides;const o=he.parent&&he.parent.provides;o===n&&(n=he.provides=Object.create(o)),n[t]=e}}function nn(t,e,n=!1){const o=ta();if(o||ht){let i=ht?ht._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&b(e)?e.call(o&&o.proxy):e}}const dr={},pr=()=>Object.create(dr),hr=t=>Object.getPrototypeOf(t)===dr;function Su(t,e,n,o=!1){const i={},r=pr();t.propsDefaults=Object.create(null),mr(t,e,i,r);for(const u in t.propsOptions[0])u in i||(i[u]=void 0);n?t.props=o?i:ql(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Iu(t,e,n,o){const{props:i,attrs:r,vnode:{patchFlag:u}}=t,a=z(i),[f]=t.propsOptions;let c=!1;if((o||u>0)&&!(u&16)){if(u&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let h=d[p];if(Sn(t.emitsOptions,h))continue;const g=e[h];if(f)if(Y(r,h))g!==r[h]&&(r[h]=g,c=!0);else{const T=ze(h);i[T]=Qn(f,a,T,g,t,!1)}else g!==r[h]&&(r[h]=g,c=!0)}}}else{mr(t,e,i,r)&&(c=!0);let d;for(const p in a)(!e||!Y(e,p)&&((d=rt(p))===p||!Y(e,d)))&&(f?n&&(n[p]!==void 0||n[d]!==void 0)&&(i[p]=Qn(f,a,p,void 0,t,!0)):delete i[p]);if(r!==a)for(const p in r)(!e||!Y(e,p))&&(delete r[p],c=!0)}c&&He(t.attrs,"set","")}function mr(t,e,n,o){const[i,r]=t.propsOptions;let u=!1,a;if(e)for(let f in e){if(Lt(f))continue;const c=e[f];let d;i&&Y(i,d=ze(f))?!r||!r.includes(d)?n[d]=c:(a||(a={}))[d]=c:Sn(t.emitsOptions,f)||(!(f in o)||c!==o[f])&&(o[f]=c,u=!0)}if(r){const f=z(n),c=a||ne;for(let d=0;d<r.length;d++){const p=r[d];n[p]=Qn(i,f,p,c[p],t,!Y(c,p))}}return u}function Qn(t,e,n,o,i,r){const u=t[n];if(u!=null){const a=Y(u,"default");if(a&&o===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&b(f)){const{propsDefaults:c}=i;if(n in c)o=c[n];else{const d=zt(i);o=c[n]=f.call(null,e),d()}}else o=f;i.ce&&i.ce._setProp(n,o)}u[0]&&(r&&!a?o=!1:u[1]&&(o===""||o===rt(n))&&(o=!0))}return o}const Au=new WeakMap;function gr(t,e,n=!1){const o=n?Au:e.propsCache,i=o.get(t);if(i)return i;const r=t.props,u={},a=[];let f=!1;if(!b(t)){const d=p=>{f=!0;const[h,g]=gr(p,e,!0);fe(u,h),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!f)return re(t)&&o.set(t,dt),dt;if(J(r))for(let d=0;d<r.length;d++){const p=ze(r[d]);Qo(p)&&(u[p]=ne)}else if(r)for(const d in r){const p=ze(d);if(Qo(p)){const h=r[d],g=u[p]=J(h)||b(h)?{type:h}:fe({},h),T=g.type;let C=!1,D=!0;if(J(T))for(let R=0;R<T.length;++R){const w=T[R],P=b(w)&&w.name;if(P==="Boolean"){C=!0;break}else P==="String"&&(D=!1)}else C=b(T)&&T.name==="Boolean";g[0]=C,g[1]=D,(C||Y(g,"default"))&&a.push(p)}}const c=[u,a];return re(t)&&o.set(t,c),c}function Qo(t){return t[0]!=="$"&&!Lt(t)}const Ro=t=>t==="_"||t==="_ctx"||t==="$stable",Po=t=>J(t)?t.map(De):[De(t)],Ru=(t,e,n)=>{if(e._n)return e;const o=Xl((...i)=>Po(e(...i)),n);return o._c=!1,o},yr=(t,e,n)=>{const o=t._ctx;for(const i in t){if(Ro(i))continue;const r=t[i];if(b(r))e[i]=Ru(i,r,o);else if(r!=null){const u=Po(r);e[i]=()=>u}}},_r=(t,e)=>{const n=Po(e);t.slots.default=()=>n},Tr=(t,e,n)=>{for(const o in e)(n||!Ro(o))&&(t[o]=e[o])},Pu=(t,e,n)=>{const o=t.slots=pr();if(t.vnode.shapeFlag&32){const i=e._;i?(Tr(o,e,n),n&&ks(o,"_",i,!0)):yr(e,o)}else e&&_r(t,e)},Mu=(t,e,n)=>{const{vnode:o,slots:i}=t;let r=!0,u=ne;if(o.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Tr(i,e,n):(r=!e.$stable,yr(e,i)),u=e}else e&&(_r(t,e),u={default:1});if(r)for(const a in i)!Ro(a)&&u[a]==null&&delete i[a]},Ce=Ju;function wu(t){return xu(t)}function xu(t,e){const n=Cn();n.__VUE__=!0;const{insert:o,remove:i,patchProp:r,createElement:u,createText:a,createComment:f,setText:c,setElementText:d,parentNode:p,nextSibling:h,setScopeId:g=Le,insertStaticContent:T}=t,C=(m,y,_,S=null,E=null,v=null,N=void 0,x=null,M=!!y.dynamicChildren)=>{if(m===y)return;m&&!xt(m,y)&&(S=Zt(m),Re(m,E,v,!0),m=null),y.patchFlag===-2&&(M=!1,y.dynamicChildren=null);const{type:I,ref:V,shapeFlag:U}=y;switch(I){case In:D(m,y,_,S);break;case Tt:R(m,y,_,S);break;case qn:m==null&&w(y,_,S,N);break;case Ge:X(m,y,_,S,E,v,N,x,M);break;default:U&1?F(m,y,_,S,E,v,N,x,M):U&6?ce(m,y,_,S,E,v,N,x,M):(U&64||U&128)&&I.process(m,y,_,S,E,v,N,x,M,Pt)}V!=null&&E?qt(V,m&&m.ref,v,y||m,!y):V==null&&m&&m.ref!=null&&qt(m.ref,null,v,m,!0)},D=(m,y,_,S)=>{if(m==null)o(y.el=a(y.children),_,S);else{const E=y.el=m.el;y.children!==m.children&&c(E,y.children)}},R=(m,y,_,S)=>{m==null?o(y.el=f(y.children||""),_,S):y.el=m.el},w=(m,y,_,S)=>{[m.el,m.anchor]=T(m.children,y,_,S,m.el,m.anchor)},P=({el:m,anchor:y},_,S)=>{let E;for(;m&&m!==y;)E=h(m),o(m,_,S),m=E;o(y,_,S)},A=({el:m,anchor:y})=>{let _;for(;m&&m!==y;)_=h(m),i(m),m=_;i(y)},F=(m,y,_,S,E,v,N,x,M)=>{y.type==="svg"?N="svg":y.type==="math"&&(N="mathml"),m==null?G(y,_,S,E,v,N,x,M):q(m,y,E,v,N,x,M)},G=(m,y,_,S,E,v,N,x)=>{let M,I;const{props:V,shapeFlag:U,transition:k,dirs:H}=m;if(M=m.el=u(m.type,v,V&&V.is,V),U&8?d(M,m.children):U&16&&Z(m.children,M,null,S,E,kn(m,v),N,x),H&&je(m,null,S,"created"),B(M,m,m.scopeId,N,S),V){for(const ee in V)ee!=="value"&&!Lt(ee)&&r(M,ee,null,V[ee],v,S);"value"in V&&r(M,"value",null,V.value,v),(I=V.onVnodeBeforeMount)&&xe(I,S,m)}H&&je(m,null,S,"beforeMount");const W=Nu(E,k);W&&k.beforeEnter(M),o(M,y,_),((I=V&&V.onVnodeMounted)||W||H)&&Ce(()=>{I&&xe(I,S,m),W&&k.enter(M),H&&je(m,null,S,"mounted")},E)},B=(m,y,_,S,E)=>{if(_&&g(m,_),S)for(let v=0;v<S.length;v++)g(m,S[v]);if(E){let v=E.subTree;if(y===v||Ar(v.type)&&(v.ssContent===y||v.ssFallback===y)){const N=E.vnode;B(m,N,N.scopeId,N.slotScopeIds,E.parent)}}},Z=(m,y,_,S,E,v,N,x,M=0)=>{for(let I=M;I<m.length;I++){const V=m[I]=x?Ke(m[I]):De(m[I]);C(null,V,y,_,S,E,v,N,x)}},q=(m,y,_,S,E,v,N)=>{const x=y.el=m.el;let{patchFlag:M,dynamicChildren:I,dirs:V}=y;M|=m.patchFlag&16;const U=m.props||ne,k=y.props||ne;let H;if(_&&et(_,!1),(H=k.onVnodeBeforeUpdate)&&xe(H,_,y,m),V&&je(y,m,_,"beforeUpdate"),_&&et(_,!0),(U.innerHTML&&k.innerHTML==null||U.textContent&&k.textContent==null)&&d(x,""),I?$(m.dynamicChildren,I,x,_,S,kn(y,E),v):N||j(m,y,x,null,_,S,kn(y,E),v,!1),M>0){if(M&16)se(x,U,k,_,E);else if(M&2&&U.class!==k.class&&r(x,"class",null,k.class,E),M&4&&r(x,"style",U.style,k.style,E),M&8){const W=y.dynamicProps;for(let ee=0;ee<W.length;ee++){const O=W[ee],ge=U[O],ye=k[O];(ye!==ge||O==="value")&&r(x,O,ge,ye,E,_)}}M&1&&m.children!==y.children&&d(x,y.children)}else!N&&I==null&&se(x,U,k,_,E);((H=k.onVnodeUpdated)||V)&&Ce(()=>{H&&xe(H,_,y,m),V&&je(y,m,_,"updated")},S)},$=(m,y,_,S,E,v,N)=>{for(let x=0;x<y.length;x++){const M=m[x],I=y[x],V=M.el&&(M.type===Ge||!xt(M,I)||M.shapeFlag&198)?p(M.el):_;C(M,I,V,null,S,E,v,N,!0)}},se=(m,y,_,S,E)=>{if(y!==_){if(y!==ne)for(const v in y)!Lt(v)&&!(v in _)&&r(m,v,y[v],null,E,S);for(const v in _){if(Lt(v))continue;const N=_[v],x=y[v];N!==x&&v!=="value"&&r(m,v,x,N,E,S)}"value"in _&&r(m,"value",y.value,_.value,E)}},X=(m,y,_,S,E,v,N,x,M)=>{const I=y.el=m?m.el:a(""),V=y.anchor=m?m.anchor:a("");let{patchFlag:U,dynamicChildren:k,slotScopeIds:H}=y;H&&(x=x?x.concat(H):H),m==null?(o(I,_,S),o(V,_,S),Z(y.children||[],_,V,E,v,N,x,M)):U>0&&U&64&&k&&m.dynamicChildren?($(m.dynamicChildren,k,_,E,v,N,x),(y.key!=null||E&&y===E.subTree)&&Cr(m,y,!0)):j(m,y,_,V,E,v,N,x,M)},ce=(m,y,_,S,E,v,N,x,M)=>{y.slotScopeIds=x,m==null?y.shapeFlag&512?E.ctx.activate(y,_,S,N,M):ut(y,_,S,E,v,N,M):At(m,y,M)},ut=(m,y,_,S,E,v,N)=>{const x=m.component=ea(m,S,E);if(rr(m)&&(x.ctx.renderer=Pt),na(x,!1,N),x.asyncDep){if(E&&E.registerDep(x,oe,N),!m.el){const M=x.subTree=it(Tt);R(null,M,y,_),m.placeholder=M.el}}else oe(x,m,y,_,E,v,N)},At=(m,y,_)=>{const S=y.component=m.component;if(Bu(m,y,_))if(S.asyncDep&&!S.asyncResolved){Q(S,y,_);return}else S.next=y,S.update();else y.el=m.el,S.vnode=y},oe=(m,y,_,S,E,v,N)=>{const x=()=>{if(m.isMounted){let{next:U,bu:k,u:H,parent:W,vnode:ee}=m;{const Me=Er(m);if(Me){U&&(U.el=ee.el,Q(m,U,N)),Me.asyncDep.then(()=>{m.isUnmounted||x()});return}}let O=U,ge;et(m,!1),U?(U.el=ee.el,Q(m,U,N)):U=ee,k&&Nn(k),(ge=U.props&&U.props.onVnodeBeforeUpdate)&&xe(ge,W,U,ee),et(m,!0);const ye=jo(m),Pe=m.subTree;m.subTree=ye,C(Pe,ye,p(Pe.el),Zt(Pe),m,E,v),U.el=ye.el,O===null&&bu(m,ye.el),H&&Ce(H,E),(ge=U.props&&U.props.onVnodeUpdated)&&Ce(()=>xe(ge,W,U,ee),E)}else{let U;const{el:k,props:H}=y,{bm:W,m:ee,parent:O,root:ge,type:ye}=m,Pe=Gt(y);et(m,!1),W&&Nn(W),!Pe&&(U=H&&H.onVnodeBeforeMount)&&xe(U,O,y),et(m,!0);{ge.ce&&ge.ce._def.shadowRoot!==!1&&ge.ce._injectChildStyle(ye);const Me=m.subTree=jo(m);C(null,Me,_,S,m,E,v),y.el=Me.el}if(ee&&Ce(ee,E),!Pe&&(U=H&&H.onVnodeMounted)){const Me=y;Ce(()=>xe(U,O,Me),E)}(y.shapeFlag&256||O&&Gt(O.vnode)&&O.vnode.shapeFlag&256)&&m.a&&Ce(m.a,E),m.isMounted=!0,y=_=S=null}};m.scope.on();const M=m.effect=new qs(x);m.scope.off();const I=m.update=M.run.bind(M),V=m.job=M.runIfDirty.bind(M);V.i=m,V.id=m.uid,M.scheduler=()=>Io(V),et(m,!0),I()},Q=(m,y,_)=>{y.component=m;const S=m.vnode.props;m.vnode=y,m.next=null,Iu(m,y.props,S,_),Mu(m,y.children,_),Be(),Wo(m),be()},j=(m,y,_,S,E,v,N,x,M=!1)=>{const I=m&&m.children,V=m?m.shapeFlag:0,U=y.children,{patchFlag:k,shapeFlag:H}=y;if(k>0){if(k&128){Qt(I,U,_,S,E,v,N,x,M);return}else if(k&256){Qe(I,U,_,S,E,v,N,x,M);return}}H&8?(V&16&&Rt(I,E,v),U!==I&&d(_,U)):V&16?H&16?Qt(I,U,_,S,E,v,N,x,M):Rt(I,E,v,!0):(V&8&&d(_,""),H&16&&Z(U,_,S,E,v,N,x,M))},Qe=(m,y,_,S,E,v,N,x,M)=>{m=m||dt,y=y||dt;const I=m.length,V=y.length,U=Math.min(I,V);let k;for(k=0;k<U;k++){const H=y[k]=M?Ke(y[k]):De(y[k]);C(m[k],H,_,null,E,v,N,x,M)}I>V?Rt(m,E,v,!0,!1,U):Z(y,_,S,E,v,N,x,M,U)},Qt=(m,y,_,S,E,v,N,x,M)=>{let I=0;const V=y.length;let U=m.length-1,k=V-1;for(;I<=U&&I<=k;){const H=m[I],W=y[I]=M?Ke(y[I]):De(y[I]);if(xt(H,W))C(H,W,_,null,E,v,N,x,M);else break;I++}for(;I<=U&&I<=k;){const H=m[U],W=y[k]=M?Ke(y[k]):De(y[k]);if(xt(H,W))C(H,W,_,null,E,v,N,x,M);else break;U--,k--}if(I>U){if(I<=k){const H=k+1,W=H<V?y[H].el:S;for(;I<=k;)C(null,y[I]=M?Ke(y[I]):De(y[I]),_,W,E,v,N,x,M),I++}}else if(I>k)for(;I<=U;)Re(m[I],E,v,!0),I++;else{const H=I,W=I,ee=new Map;for(I=W;I<=k;I++){const Te=y[I]=M?Ke(y[I]):De(y[I]);Te.key!=null&&ee.set(Te.key,I)}let O,ge=0;const ye=k-W+1;let Pe=!1,Me=0;const Mt=new Array(ye);for(I=0;I<ye;I++)Mt[I]=0;for(I=H;I<=U;I++){const Te=m[I];if(ge>=ye){Re(Te,E,v,!0);continue}let we;if(Te.key!=null)we=ee.get(Te.key);else for(O=W;O<=k;O++)if(Mt[O-W]===0&&xt(Te,y[O])){we=O;break}we===void 0?Re(Te,E,v,!0):(Mt[we-W]=I+1,we>=Me?Me=we:Pe=!0,C(Te,y[we],_,null,E,v,N,x,M),ge++)}const Go=Pe?Du(Mt):dt;for(O=Go.length-1,I=ye-1;I>=0;I--){const Te=W+I,we=y[Te],Ho=y[Te+1],Bo=Te+1<V?Ho.el||Ho.placeholder:S;Mt[I]===0?C(null,we,_,Bo,E,v,N,x,M):Pe&&(O<0||I!==Go[O]?Ze(we,_,Bo,2):O--)}}},Ze=(m,y,_,S,E=null)=>{const{el:v,type:N,transition:x,children:M,shapeFlag:I}=m;if(I&6){Ze(m.component.subTree,y,_,S);return}if(I&128){m.suspense.move(y,_,S);return}if(I&64){N.move(m,y,_,Pt);return}if(N===Ge){o(v,y,_);for(let U=0;U<M.length;U++)Ze(M[U],y,_,S);o(m.anchor,y,_);return}if(N===qn){P(m,y,_);return}if(S!==2&&I&1&&x)if(S===0)x.beforeEnter(v),o(v,y,_),Ce(()=>x.enter(v),E);else{const{leave:U,delayLeave:k,afterLeave:H}=x,W=()=>{m.ctx.isUnmounted?i(v):o(v,y,_)},ee=()=>{v._isLeaving&&v[jl](!0),U(v,()=>{W(),H&&H()})};k?k(v,W,ee):ee()}else o(v,y,_)},Re=(m,y,_,S=!1,E=!1)=>{const{type:v,props:N,ref:x,children:M,dynamicChildren:I,shapeFlag:V,patchFlag:U,dirs:k,cacheIndex:H}=m;if(U===-2&&(E=!1),x!=null&&(Be(),qt(x,null,_,m,!0),be()),H!=null&&(y.renderCache[H]=void 0),V&256){y.ctx.deactivate(m);return}const W=V&1&&k,ee=!Gt(m);let O;if(ee&&(O=N&&N.onVnodeBeforeUnmount)&&xe(O,y,m),V&6)ol(m.component,_,S);else{if(V&128){m.suspense.unmount(_,S);return}W&&je(m,null,y,"beforeUnmount"),V&64?m.type.remove(m,y,_,Pt,S):I&&!I.hasOnce&&(v!==Ge||U>0&&U&64)?Rt(I,y,_,!1,!0):(v===Ge&&U&384||!E&&V&16)&&Rt(M,y,_),S&&Vo(m)}(ee&&(O=N&&N.onVnodeUnmounted)||W)&&Ce(()=>{O&&xe(O,y,m),W&&je(m,null,y,"unmounted")},_)},Vo=m=>{const{type:y,el:_,anchor:S,transition:E}=m;if(y===Ge){nl(_,S);return}if(y===qn){A(m);return}const v=()=>{i(_),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(m.shapeFlag&1&&E&&!E.persisted){const{leave:N,delayLeave:x}=E,M=()=>N(_,v);x?x(m.el,v,M):M()}else v()},nl=(m,y)=>{let _;for(;m!==y;)_=h(m),i(m),m=_;i(y)},ol=(m,y,_)=>{const{bum:S,scope:E,job:v,subTree:N,um:x,m:M,a:I}=m;Zo(M),Zo(I),S&&Nn(S),E.stop(),v&&(v.flags|=8,Re(N,m,y,_)),x&&Ce(x,y),Ce(()=>{m.isUnmounted=!0},y)},Rt=(m,y,_,S=!1,E=!1,v=0)=>{for(let N=v;N<m.length;N++)Re(m[N],y,_,S,E)},Zt=m=>{if(m.shapeFlag&6)return Zt(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const y=h(m.anchor||m.el),_=y&&y[Ql];return _?h(_):y};let wn=!1;const qo=(m,y,_)=>{m==null?y._vnode&&Re(y._vnode,null,null,!0):C(y._vnode||null,m,y,null,null,null,_),y._vnode=m,wn||(wn=!0,Wo(),nr(),wn=!1)},Pt={p:C,um:Re,m:Ze,r:Vo,mt:ut,mc:Z,pc:j,pbc:$,n:Zt,o:t};return{render:qo,hydrate:void 0,createApp:Eu(qo)}}function kn({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function et({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Nu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Cr(t,e,n=!1){const o=t.children,i=e.children;if(J(o)&&J(i))for(let r=0;r<o.length;r++){const u=o[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Ke(i[r]),a.el=u.el),!n&&a.patchFlag!==-2&&Cr(u,a)),a.type===In&&a.patchFlag!==-1&&(a.el=u.el),a.type===Tt&&!a.el&&(a.el=u.el)}}function Du(t){const e=t.slice(),n=[0];let o,i,r,u,a;const f=t.length;for(o=0;o<f;o++){const c=t[o];if(c!==0){if(i=n[n.length-1],t[i]<c){e[o]=i,n.push(o);continue}for(r=0,u=n.length-1;r<u;)a=r+u>>1,t[n[a]]<c?r=a+1:u=a;c<t[n[r]]&&(r>0&&(e[o]=n[r-1]),n[r]=o)}}for(r=n.length,u=n[r-1];r-- >0;)n[r]=u,u=e[u];return n}function Er(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Er(e)}function Zo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Uu=Symbol.for("v-scx"),Lu=()=>nn(Uu);function Vn(t,e,n){return vr(t,e,n)}function vr(t,e,n=ne){const{immediate:o,deep:i,flush:r,once:u}=n,a=fe({},n),f=e&&o||!e&&r!=="post";let c;if(Yt){if(r==="sync"){const g=Lu();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!f){const g=()=>{};return g.stop=Le,g.resume=Le,g.pause=Le,g}}const d=he;a.call=(g,T,C)=>ke(g,d,T,C);let p=!1;r==="post"?a.scheduler=g=>{Ce(g,d&&d.suspense)}:r!=="sync"&&(p=!0,a.scheduler=(g,T)=>{T?g():Io(g)}),a.augmentJob=g=>{e&&(g.flags|=4),p&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const h=Wl(t,e,a);return Yt&&(c?c.push(h):f&&h()),h}function Fu(t,e,n){const o=this.proxy,i=le(t)?t.includes(".")?Sr(o,t):()=>o[t]:t.bind(o,o);let r;b(e)?r=e:(r=e.handler,n=e);const u=zt(this),a=vr(i,r.bind(o),n);return u(),a}function Sr(t,e){const n=e.split(".");return()=>{let o=t;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}const ku=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ze(e)}Modifiers`]||t[`${rt(e)}Modifiers`];function Vu(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||ne;let i=n;const r=e.startsWith("update:"),u=r&&ku(o,e.slice(7));u&&(u.trim&&(i=n.map(d=>le(d)?d.trim():d)),u.number&&(i=n.map(cl)));let a,f=o[a=xn(e)]||o[a=xn(ze(e))];!f&&r&&(f=o[a=xn(rt(e))]),f&&ke(f,t,6,i);const c=o[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ke(c,t,6,i)}}const qu=new WeakMap;function Ir(t,e,n=!1){const o=n?qu:e.emitsCache,i=o.get(t);if(i!==void 0)return i;const r=t.emits;let u={},a=!1;if(!b(t)){const f=c=>{const d=Ir(c,e,!0);d&&(a=!0,fe(u,d))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!r&&!a?(re(t)&&o.set(t,null),null):(J(r)?r.forEach(f=>u[f]=null):fe(u,r),re(t)&&o.set(t,u),u)}function Sn(t,e){return!t||!yn(e)?!1:(e=e.slice(2).replace(/Once$/,""),Y(t,e[0].toLowerCase()+e.slice(1))||Y(t,rt(e))||Y(t,e))}function jo(t){const{type:e,vnode:n,proxy:o,withProxy:i,propsOptions:[r],slots:u,attrs:a,emit:f,render:c,renderCache:d,props:p,data:h,setupState:g,ctx:T,inheritAttrs:C}=t,D=fn(t);let R,w;try{if(n.shapeFlag&4){const A=i||o,F=A;R=De(c.call(F,A,d,p,g,h,T)),w=a}else{const A=e;R=De(A.length>1?A(p,{attrs:a,slots:u,emit:f}):A(p,null)),w=e.props?a:Gu(a)}}catch(A){Bt.length=0,En(A,t,1),R=it(Tt)}let P=R;if(w&&C!==!1){const A=Object.keys(w),{shapeFlag:F}=P;A.length&&F&7&&(r&&A.some(fo)&&(w=Hu(w,r)),P=Ct(P,w,!1,!0))}return n.dirs&&(P=Ct(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Ao(P,n.transition),R=P,fn(D),R}const Gu=t=>{let e;for(const n in t)(n==="class"||n==="style"||yn(n))&&((e||(e={}))[n]=t[n]);return e},Hu=(t,e)=>{const n={};for(const o in t)(!fo(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function Bu(t,e,n){const{props:o,children:i,component:r}=t,{props:u,children:a,patchFlag:f}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return o?ei(o,u,c):!!u;if(f&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const h=d[p];if(u[h]!==o[h]&&!Sn(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:o===u?!1:o?u?ei(o,u,c):!0:!!u;return!1}function ei(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(e[r]!==t[r]&&!Sn(n,r))return!0}return!1}function bu({vnode:t,parent:e},n){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ar=t=>t.__isSuspense;function Ju(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):zl(t)}const Ge=Symbol.for("v-fgt"),In=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),qn=Symbol.for("v-stc"),Bt=[];let ve=null;function $u(t=!1){Bt.push(ve=t?null:[])}function Wu(){Bt.pop(),ve=Bt[Bt.length-1]||null}let Kt=1;function ti(t,e=!1){Kt+=t,t<0&&ve&&e&&(ve.hasOnce=!0)}function Ku(t){return t.dynamicChildren=Kt>0?ve||dt:null,Wu(),Kt>0&&ve&&ve.push(t),t}function Yu(t,e,n,o,i,r){return Ku(Mo(t,e,n,o,i,r,!0))}function Rr(t){return t?t.__v_isVNode===!0:!1}function xt(t,e){return t.type===e.type&&t.key===e.key}const Pr=({key:t})=>t??null,on=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?le(t)||me(t)||b(t)?{i:Ue,r:t,k:e,f:!!n}:t:null);function Mo(t,e=null,n=null,o=0,i=null,r=t===Ge?0:1,u=!1,a=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pr(e),ref:e&&on(e),scopeId:ir,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ue};return a?(wo(f,n),r&128&&t.normalize(f)):n&&(f.shapeFlag|=le(n)?8:16),Kt>0&&!u&&ve&&(f.patchFlag>0||r&6)&&f.patchFlag!==32&&ve.push(f),f}const it=Ou;function Ou(t,e=null,n=null,o=0,i=null,r=!1){if((!t||t===pu)&&(t=Tt),Rr(t)){const a=Ct(t,e,!0);return n&&wo(a,n),Kt>0&&!r&&ve&&(a.shapeFlag&6?ve[ve.indexOf(t)]=a:ve.push(a)),a.patchFlag=-2,a}if(ra(t)&&(t=t.__vccOpts),e){e=zu(e);let{class:a,style:f}=e;a&&!le(a)&&(e.class=mo(a)),re(f)&&(So(f)&&!J(f)&&(f=fe({},f)),e.style=ho(f))}const u=le(t)?1:Ar(t)?128:Zl(t)?64:re(t)?4:b(t)?2:0;return Mo(t,e,n,o,i,u,r,!0)}function zu(t){return t?So(t)||hr(t)?fe({},t):t:null}function Ct(t,e,n=!1,o=!1){const{props:i,ref:r,patchFlag:u,children:a,transition:f}=t,c=e?Qu(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Pr(c),ref:e&&e.ref?n&&r?J(r)?r.concat(on(e)):[r,on(e)]:on(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ct(t.ssContent),ssFallback:t.ssFallback&&Ct(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&o&&Ao(d,f.clone(d)),d}function Xu(t=" ",e=0){return it(In,null,t,e)}function De(t){return t==null||typeof t=="boolean"?it(Tt):J(t)?it(Ge,null,t.slice()):Rr(t)?Ke(t):it(In,null,String(t))}function Ke(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ct(t)}function wo(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(J(e))n=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),wo(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!hr(e)?e._ctx=Ue:i===3&&Ue&&(Ue.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else b(e)?(e={default:e,_ctx:Ue},n=32):(e=String(e),o&64?(n=16,e=[Xu(e)]):n=8);t.children=e,t.shapeFlag|=n}function Qu(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=mo([e.class,o.class]));else if(i==="style")e.style=ho([e.style,o.style]);else if(yn(i)){const r=e[i],u=o[i];u&&r!==u&&!(J(r)&&r.includes(u))&&(e[i]=r?[].concat(r,u):u)}else i!==""&&(e[i]=o[i])}return e}function xe(t,e,n,o=null){ke(t,e,7,[n,o])}const Zu=cr();let ju=0;function ea(t,e,n){const o=t.type,i=(e?e.appContext:t.appContext)||Zu,r={uid:ju++,vnode:t,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _l(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gr(o,i),emitsOptions:Ir(o,i),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:o.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Vu.bind(null,r),t.ce&&t.ce(r),r}let he=null;const ta=()=>he||Ue;let pn,Zn;{const t=Cn(),e=(n,o)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(o),r=>{i.length>1?i.forEach(u=>u(r)):i[0](r)}};pn=e("__VUE_INSTANCE_SETTERS__",n=>he=n),Zn=e("__VUE_SSR_SETTERS__",n=>Yt=n)}const zt=t=>{const e=he;return pn(t),t.scope.on(),()=>{t.scope.off(),pn(e)}},ni=()=>{he&&he.scope.off(),pn(null)};function Mr(t){return t.vnode.shapeFlag&4}let Yt=!1;function na(t,e=!1,n=!1){e&&Zn(e);const{props:o,children:i}=t.vnode,r=Mr(t);Su(t,o,r,e),Pu(t,i,n||e);const u=r?oa(t,e):void 0;return e&&Zn(!1),u}function oa(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,hu);const{setup:o}=n;if(o){Be();const i=t.setupContext=o.length>1?sa(t):null,r=zt(t),u=Ot(o,t,0,[t.props,i]),a=Ls(u);if(be(),r(),(a||t.sp)&&!Gt(t)&&sr(t),a){if(u.then(ni,ni),e)return u.then(f=>{oi(t,f)}).catch(f=>{En(f,t,0)});t.asyncDep=u}else oi(t,u)}else wr(t)}function oi(t,e,n){b(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:re(e)&&(t.setupState=js(e)),wr(t)}function wr(t,e,n){const o=t.type;t.render||(t.render=o.render||Le);{const i=zt(t);Be();try{mu(t)}finally{be(),i()}}}const ia={get(t,e){return ue(t,"get",""),t[e]}};function sa(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ia),slots:t.slots,emit:t.emit,expose:e}}function xo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(js(Gl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ht)return Ht[n](t)},has(e,n){return n in e||n in Ht}})):t.proxy}function ra(t){return b(t)&&"__vccOpts"in t}const la=(t,e)=>Jl(t,e,Yt),ua="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jn;const ii=typeof window<"u"&&window.trustedTypes;if(ii)try{jn=ii.createPolicy("vue",{createHTML:t=>t})}catch{}const xr=jn?t=>jn.createHTML(t):t=>t,aa="http://www.w3.org/2000/svg",fa="http://www.w3.org/1998/Math/MathML",qe=typeof document<"u"?document:null,si=qe&&qe.createElement("template"),ca={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const i=e==="svg"?qe.createElementNS(aa,t):e==="mathml"?qe.createElementNS(fa,t):n?qe.createElement(t,{is:n}):qe.createElement(t);return t==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:t=>qe.createTextNode(t),createComment:t=>qe.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>qe.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,i,r){const u=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{si.innerHTML=xr(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const a=si.content;if(o==="svg"||o==="mathml"){const f=a.firstChild;for(;f.firstChild;)a.appendChild(f.firstChild);a.removeChild(f)}e.insertBefore(a,n)}return[u?u.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},da=Symbol("_vtc");function pa(t,e,n){const o=t[da];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ri=Symbol("_vod"),ha=Symbol("_vsh"),ma=Symbol(""),ga=/(?:^|;)\s*display\s*:/;function ya(t,e,n){const o=t.style,i=le(n);let r=!1;if(n&&!i){if(e)if(le(e))for(const u of e.split(";")){const a=u.slice(0,u.indexOf(":")).trim();n[a]==null&&sn(o,a,"")}else for(const u in e)n[u]==null&&sn(o,u,"");for(const u in n)u==="display"&&(r=!0),sn(o,u,n[u])}else if(i){if(e!==n){const u=o[ma];u&&(n+=";"+u),o.cssText=n,r=ga.test(n)}}else e&&t.removeAttribute("style");ri in t&&(t[ri]=r?o.display:"",t[ha]&&(o.display="none"))}const li=/\s*!important$/;function sn(t,e,n){if(J(n))n.forEach(o=>sn(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=_a(t,e);li.test(n)?t.setProperty(rt(o),n.replace(li,""),"important"):t[o]=n}}const ui=["Webkit","Moz","ms"],Gn={};function _a(t,e){const n=Gn[e];if(n)return n;let o=ze(e);if(o!=="filter"&&o in t)return Gn[e]=o;o=Fs(o);for(let i=0;i<ui.length;i++){const r=ui[i]+o;if(r in t)return Gn[e]=r}return e}const ai="http://www.w3.org/1999/xlink";function fi(t,e,n,o,i,r=yl(e)){o&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(ai,e.slice(6,e.length)):t.setAttributeNS(ai,e,n):n==null||r&&!Vs(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Et(n)?String(n):n)}function ci(t,e,n,o,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?xr(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?t.type==="checkbox"?"on":"":String(n);(a!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let u=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Vs(n):n==null&&a==="string"?(n="",u=!0):a==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(i||e)}function Ta(t,e,n,o){t.addEventListener(e,n,o)}function Ca(t,e,n,o){t.removeEventListener(e,n,o)}const di=Symbol("_vei");function Ea(t,e,n,o,i=null){const r=t[di]||(t[di]={}),u=r[e];if(o&&u)u.value=o;else{const[a,f]=va(e);if(o){const c=r[e]=Aa(o,i);Ta(t,a,c,f)}else u&&(Ca(t,a,u,f),r[e]=void 0)}}const pi=/(?:Once|Passive|Capture)$/;function va(t){let e;if(pi.test(t)){e={};let o;for(;o=t.match(pi);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):rt(t.slice(2)),e]}let Hn=0;const Sa=Promise.resolve(),Ia=()=>Hn||(Sa.then(()=>Hn=0),Hn=Date.now());function Aa(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;ke(Ra(o,n.value),e,5,[o])};return n.value=t,n.attached=Ia(),n}function Ra(t,e){if(J(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const hi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Pa=(t,e,n,o,i,r)=>{const u=i==="svg";e==="class"?pa(t,o,u):e==="style"?ya(t,n,o):yn(e)?fo(e)||Ea(t,e,n,o,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ma(t,e,o,u))?(ci(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&fi(t,e,o,u,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!le(o))?ci(t,ze(e),o,r,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),fi(t,e,o,u))};function Ma(t,e,n,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&hi(e)&&b(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return hi(e)&&le(n)?!1:e in t}const wa=fe({patchProp:Pa},ca);let mi;function xa(){return mi||(mi=wu(wa))}const Na=((...t)=>{const e=xa().createApp(...t),{mount:n}=e;return e.mount=o=>{const i=Ua(o);if(!i)return;const r=e._component;!b(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const u=n(i,!1,Da(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},e});function Da(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ua(t){return le(t)?document.querySelector(t):t}class La{constructor(e,n){this.key=e,this.model=n}ai;prompt="";addPrompt(e){this.prompt+=`
${e}`}resetPrompt(){this.prompt=""}setKey(e){return this.key=e,this.ai&&this.init(),this}setModel(e){return this.model=e,this}async generate(e){return this.ai||(this.init(),console.log(`[Ai] Initialized AI client with model: ${this.model}`)),this.ai?(console.log("[Ai] Generating"),await this.response(this.model,this.getContents(e))):""}getContents(e){return`${this.prompt}
${e}`}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fa,ka;function Va(){return{geminiUrl:Fa,vertexUrl:ka}}function qa(t,e,n,o){var i,r;if(!t?.baseUrl){const u=Va();return e?(i=u.vertexUrl)!==null&&i!==void 0?i:n:(r=u.geminiUrl)!==null&&r!==void 0?r:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lt{}function L(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function l(t,e,n){for(let r=0;r<e.length-1;r++){const u=e[r];if(u.endsWith("[]")){const a=u.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[a])){const f=t[a];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];l(d,e.slice(r+1),n[c])}else for(const c of f)l(c,e.slice(r+1),n)}return}else if(u.endsWith("[0]")){const a=u.slice(0,-3);a in t||(t[a]=[{}]);const f=t[a];l(f[0],e.slice(r+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const o=e[e.length-1],i=t[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const i=e[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const u=t[r];return Array.isArray(u)?u.map(a=>s(a,e.slice(o+1),n)):n}else return n}else t=t[i]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Ga(t,e){for(const[n,o]of Object.entries(e)){const i=n.split("."),r=o.split("."),u=new Set;let a=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){a=f;break}if(a!==-1&&r.length>a)for(let f=a;f<r.length;f++){const c=r[f];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&u.add(c)}eo(t,i,r,0,u)}}function eo(t,e,n,o,i){if(o>=e.length||typeof t!="object"||t===null)return;const r=e[o];if(r.endsWith("[]")){const u=r.slice(0,-2),a=t;if(u in a&&Array.isArray(a[u]))for(const f of a[u])eo(f,e,n,o+1,i)}else if(r==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,a=Object.keys(u).filter(c=>!c.startsWith("_")&&!i.has(c)),f={};for(const c of a)f[c]=u[c];for(const[c,d]of Object.entries(f)){const p=[];for(const h of n.slice(o))h==="*"?p.push(c):p.push(h);l(u,p,d)}for(const c of a)delete u[c]}}else{const u=t;r in u&&eo(u[r],e,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function No(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ha(t){const e={},n=s(t,["operationName"]);n!=null&&l(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&l(e,["_url","resourceName"],o),e}function Ba(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const r=s(t,["error"]);r!=null&&l(e,["error"],r);const u=s(t,["response","generateVideoResponse"]);return u!=null&&l(e,["response"],Ja(u)),e}function ba(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const r=s(t,["error"]);r!=null&&l(e,["error"],r);const u=s(t,["response"]);return u!=null&&l(e,["response"],$a(u)),e}function Ja(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>Wa(u))),l(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function $a(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>Ka(u))),l(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function Wa(t){const e={},n=s(t,["video"]);return n!=null&&l(e,["video"],za(n)),e}function Ka(t){const e={},n=s(t,["_self"]);return n!=null&&l(e,["video"],Xa(n)),e}function Ya(t){const e={},n=s(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function Oa(t){const e={},n=s(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function za(t){const e={},n=s(t,["uri"]);n!=null&&l(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&l(e,["videoBytes"],No(o));const i=s(t,["encoding"]);return i!=null&&l(e,["mimeType"],i),e}function Xa(t){const e={},n=s(t,["gcsUri"]);n!=null&&l(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],No(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gi;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gi||(gi={}));var yi;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(yi||(yi={}));var _i;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_i||(_i={}));var Oe;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Oe||(Oe={}));var Ti;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ti||(Ti={}));var Ci;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ci||(Ci={}));var Ei;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ei||(Ei={}));var vi;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vi||(vi={}));var Si;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Si||(Si={}));var Ii;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ii||(Ii={}));var Ai;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ai||(Ai={}));var Ri;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Ri||(Ri={}));var Pi;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Pi||(Pi={}));var Mi;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mi||(Mi={}));var wi;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(wi||(wi={}));var xi;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xi||(xi={}));var hn;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(hn||(hn={}));var Ni;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ni||(Ni={}));var to;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(to||(to={}));var Di;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Di||(Di={}));var Ui;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ui||(Ui={}));var Li;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Li||(Li={}));var Fi;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Fi||(Fi={}));var ki;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ki||(ki={}));var Vi;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Vi||(Vi={}));var qi;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qi||(qi={}));var Gi;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Gi||(Gi={}));var Hi;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Hi||(Hi={}));var Bi;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Bi||(Bi={}));var bi;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bi||(bi={}));var Ji;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ji||(Ji={}));var $i;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($i||($i={}));var Wi;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Wi||(Wi={}));var Ki;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ki||(Ki={}));var Yi;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Yi||(Yi={}));var Oi;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Oi||(Oi={}));var zi;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(zi||(zi={}));var Xi;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Xi||(Xi={}));var Qi;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Qi||(Qi={}));var Zi;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Zi||(Zi={}));var ji;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ji||(ji={}));var es;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(es||(es={}));var ts;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ts||(ts={}));var ns;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ns||(ns={}));var os;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(os||(os={}));var is;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(is||(is={}));var ss;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ss||(ss={}));var rs;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(rs||(rs={}));var ct;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ct||(ct={}));class no{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nt{get text(){var e,n,o,i,r,u,a,f;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const p=[];for(const h of(f=(a=(u=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)!==null&&f!==void 0?f:[]){for(const[g,T]of Object.entries(h))g!=="text"&&g!=="thought"&&(T!==null||T!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,o,i,r,u,a,f;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const p of(f=(a=(u=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)!==null&&f!==void 0?f:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,o,i,r,u,a,f;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(a=(u=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(c?.length!==0)return c}get executableCode(){var e,n,o,i,r,u,a,f,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(a=(u=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(c=d?.[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,o,i,r,u,a,f,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(a=(u=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(c=d?.[0])===null||c===void 0?void 0:c.output}}class ls{}class us{}class Qa{}class Za{}class ja{}class ef{}class as{}class fs{}class cs{}class tf{}class mn{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const o=new mn;let i;const r=e;return n?i=ba(r):i=Ba(r),Object.assign(o,i),o}}class ds{}class ps{}class hs{}class nf{}class of{}class sf{}class ms{}class rf{get text(){var e,n,o;let i="",r=!1;const u=[];for(const a of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[f,c]of Object.entries(a))f!=="text"&&f!=="thought"&&c!==null&&u.push(f);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;r=!0,i+=a.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,n,o;let i="";const r=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[a,f]of Object.entries(u))a!=="inlineData"&&f!==null&&r.push(a);u.inlineData&&typeof u.inlineData.data=="string"&&(i+=atob(u.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class lf{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Nr(t,e){const n=K(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Dr(t){return Array.isArray(t)?t.map(e=>gn(e)):[gn(t)]}function gn(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Ur(t){const e=gn(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Lr(t){const e=gn(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gs(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Fr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>gs(e)):[gs(t)]}function oo(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ys(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function _s(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ae(t){if(t==null)throw new Error("ContentUnion is required");return oo(t)?t:{role:"user",parts:Fr(t)}}function Do(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=ae(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=ae(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ae(n)):[ae(e)]}function Se(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ys(t)||_s(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ae(t)]}const e=[],n=[],o=oo(t[0]);for(const i of t){const r=oo(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(i);else{if(ys(i)||_s(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||e.push({role:"user",parts:Fr(n)}),e}function uf(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Oe).includes(n[0].toUpperCase())?n[0].toUpperCase():Oe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Oe).includes(o.toUpperCase())?o.toUpperCase():Oe.TYPE_UNSPECIFIED})}}function mt(t){const e={},n=["items"],o=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&uf(t.type,e);for(const[u,a]of Object.entries(t))if(a!=null)if(u=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Oe).includes(a.toUpperCase())?a.toUpperCase():Oe.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=mt(a);else if(o.includes(u)){const f=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}f.push(mt(c))}e[u]=f}else if(i.includes(u)){const f={};for(const[c,d]of Object.entries(a))f[c]=mt(d);e[u]=f}else{if(u==="additionalProperties")continue;e[u]=a}return e}function Uo(t){return mt(t)}function Lo(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Fo(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function vt(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=mt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=mt(e.response));return t}function St(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function af(t,e,n,o=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function $e(t,e){if(typeof e!="string")throw new Error("name must be a string");return af(t,e,"cachedContents")}function kr(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Xe(t){return No(t)}function ff(t){return t!=null&&typeof t=="object"&&"name"in t}function cf(t){return t!=null&&typeof t=="object"&&"video"in t}function df(t){return t!=null&&typeof t=="object"&&"uri"in t}function Vr(t){var e;let n;if(ff(t)&&(n=t.name),!(df(t)&&(n=t.uri,n===void 0))&&!(cf(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qr(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Gr(t){for(const e of["models","tunedModels","publisherModels"])if(pf(t,e))return t[e];return[]}function pf(t,e){return t!==null&&typeof t=="object"&&e in t}function hf(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function mf(t,e={}){const n=[],o=new Set;for(const i of t){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const u=hf(i,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Hr(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function gf(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Br(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let r=!1;for(const u of i){if(typeof u!="object"||u===null)continue;const f=u.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function It(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function br(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yf(t){const e={},n=s(t,["responsesFile"]);n!=null&&l(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Of(u))),l(e,["inlinedResponses"],r)}const i=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u)),l(e,["inlinedEmbedContentResponses"],r)}return e}function _f(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&l(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["bigqueryDestination","outputUri"]);return i!=null&&l(e,["bigqueryUri"],i),e}function Tf(t){const e={},n=s(t,["format"]);n!=null&&l(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&l(e,["gcsDestination","outputUriPrefix"],o);const i=s(t,["bigqueryUri"]);if(i!=null&&l(e,["bigqueryDestination","outputUri"],i),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function rn(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["metadata","state"]);i!=null&&l(e,["state"],br(i));const r=s(t,["metadata","createTime"]);r!=null&&l(e,["createTime"],r);const u=s(t,["metadata","endTime"]);u!=null&&l(e,["endTime"],u);const a=s(t,["metadata","updateTime"]);a!=null&&l(e,["updateTime"],a);const f=s(t,["metadata","model"]);f!=null&&l(e,["model"],f);const c=s(t,["metadata","output"]);return c!=null&&l(e,["dest"],yf(Br(c))),e}function io(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["state"]);i!=null&&l(e,["state"],br(i));const r=s(t,["error"]);r!=null&&l(e,["error"],r);const u=s(t,["createTime"]);u!=null&&l(e,["createTime"],u);const a=s(t,["startTime"]);a!=null&&l(e,["startTime"],a);const f=s(t,["endTime"]);f!=null&&l(e,["endTime"],f);const c=s(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);const d=s(t,["model"]);d!=null&&l(e,["model"],d);const p=s(t,["inputConfig"]);p!=null&&l(e,["src"],Cf(p));const h=s(t,["outputConfig"]);return h!=null&&l(e,["dest"],_f(Br(h))),e}function Cf(t){const e={},n=s(t,["instancesFormat"]);n!=null&&l(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["bigquerySource","inputUri"]);return i!=null&&l(e,["bigqueryUri"],i),e}function Ef(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&l(n,["fileName"],o);const i=s(e,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>Yf(t,u))),l(n,["requests","requests"],r)}return n}function vf(t){const e={},n=s(t,["format"]);n!=null&&l(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&l(e,["gcsSource","uris"],o);const i=s(t,["bigqueryUri"]);if(i!=null&&l(e,["bigquerySource","inputUri"],i),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Sf(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&l(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function If(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],It(t,o)),n}function Af(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],It(t,o)),n}function Rf(t){const e={},n=s(t,["content"]);n!=null&&l(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],Pf(o));const i=s(t,["tokenCount"]);i!=null&&l(e,["tokenCount"],i);const r=s(t,["finishReason"]);r!=null&&l(e,["finishReason"],r);const u=s(t,["urlContextMetadata"]);u!=null&&l(e,["urlContextMetadata"],u);const a=s(t,["avgLogprobs"]);a!=null&&l(e,["avgLogprobs"],a);const f=s(t,["groundingMetadata"]);f!=null&&l(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&l(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);const p=s(t,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),l(e,["safetyRatings"],h)}return e}function Pf(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),l(e,["citations"],o)}return e}function Jr(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>tc(r))),l(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function Mf(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&l(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function wf(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const i=s(t,["dest"]);return e!==void 0&&i!=null&&l(e,["outputConfig"],Tf(gf(i))),n}function Ts(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["src"]);i!=null&&l(n,["batch","inputConfig"],Ef(t,Hr(t,i)));const r=s(e,["config"]);return r!=null&&Mf(r,n),n}function xf(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["model"],K(t,o));const i=s(e,["src"]);i!=null&&l(n,["inputConfig"],vf(Hr(t,i)));const r=s(e,["config"]);return r!=null&&wf(r,n),n}function Nf(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&l(e,["batch","displayName"],o),n}function Df(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["src"]);i!=null&&l(n,["batch","inputConfig"],Gf(t,i));const r=s(e,["config"]);return r!=null&&Nf(r,n),n}function Uf(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],It(t,o)),n}function Lf(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],It(t,o)),n}function Ff(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const r=s(t,["error"]);return r!=null&&l(e,["error"],r),e}function kf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const r=s(t,["error"]);return r!=null&&l(e,["error"],r),e}function Vf(t,e){const n={},o=s(e,["contents"]);if(o!=null){let r=Do(t,o);Array.isArray(r)&&(r=r.map(u=>u)),l(n,["requests[]","request","content"],r)}const i=s(e,["config"]);return i!=null&&(l(n,["_self"],qf(i,n)),Ga(n,{"requests[].*":"requests[].request.*"})),n}function qf(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&l(e,["requests[]","title"],i);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&l(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Gf(t,e){const n={},o=s(e,["fileName"]);o!=null&&l(n,["file_name"],o);const i=s(e,["inlinedRequests"]);return i!=null&&l(n,["requests"],Vf(t,i)),n}function Hf(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Bf(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&l(n,["systemInstruction"],Jr(ae(i)));const r=s(e,["temperature"]);r!=null&&l(o,["temperature"],r);const u=s(e,["topP"]);u!=null&&l(o,["topP"],u);const a=s(e,["topK"]);a!=null&&l(o,["topK"],a);const f=s(e,["candidateCount"]);f!=null&&l(o,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&l(o,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&l(o,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);const g=s(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const T=s(e,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const C=s(e,["seed"]);C!=null&&l(o,["seed"],C);const D=s(e,["responseMimeType"]);D!=null&&l(o,["responseMimeType"],D);const R=s(e,["responseSchema"]);R!=null&&l(o,["responseSchema"],Uo(R));const w=s(e,["responseJsonSchema"]);if(w!=null&&l(o,["responseJsonSchema"],w),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(n!==void 0&&P!=null){let X=P;Array.isArray(X)&&(X=X.map(ce=>nc(ce))),l(n,["safetySettings"],X)}const A=s(e,["tools"]);if(n!==void 0&&A!=null){let X=St(A);Array.isArray(X)&&(X=X.map(ce=>oc(vt(ce)))),l(n,["tools"],X)}const F=s(e,["toolConfig"]);if(n!==void 0&&F!=null&&l(n,["toolConfig"],F),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=s(e,["cachedContent"]);n!==void 0&&G!=null&&l(n,["cachedContent"],$e(t,G));const B=s(e,["responseModalities"]);B!=null&&l(o,["responseModalities"],B);const Z=s(e,["mediaResolution"]);Z!=null&&l(o,["mediaResolution"],Z);const q=s(e,["speechConfig"]);if(q!=null&&l(o,["speechConfig"],Lo(q)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=s(e,["thinkingConfig"]);$!=null&&l(o,["thinkingConfig"],$);const se=s(e,["imageConfig"]);return se!=null&&l(o,["imageConfig"],se),o}function bf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(c=>Rf(c))),l(e,["candidates"],f)}const i=s(t,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);const r=s(t,["promptFeedback"]);r!=null&&l(e,["promptFeedback"],r);const u=s(t,["responseId"]);u!=null&&l(e,["responseId"],u);const a=s(t,["usageMetadata"]);return a!=null&&l(e,["usageMetadata"],a),e}function Jf(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],It(t,o)),n}function $f(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],It(t,o)),n}function Wf(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function Kf(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Yf(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["request","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let a=Se(i);Array.isArray(a)&&(a=a.map(f=>Jr(f))),l(n,["request","contents"],a)}const r=s(e,["metadata"]);r!=null&&l(n,["metadata"],r);const u=s(e,["config"]);return u!=null&&l(n,["request","generationConfig"],Bf(t,u,s(n,["request"],{}))),n}function Of(t){const e={},n=s(t,["response"]);n!=null&&l(e,["response"],bf(n));const o=s(t,["error"]);return o!=null&&l(e,["error"],o),e}function zf(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);if(e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Xf(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);const r=s(t,["filter"]);return e!==void 0&&r!=null&&l(e,["_query","filter"],r),n}function Qf(t){const e={},n=s(t,["config"]);return n!=null&&zf(n,e),e}function Zf(t){const e={},n=s(t,["config"]);return n!=null&&Xf(n,e),e}function jf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=s(t,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>rn(u))),l(e,["batchJobs"],r)}return e}function ec(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=s(t,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>io(u))),l(e,["batchJobs"],r)}return e}function tc(t){const e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&l(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&l(e,["inlineData"],Sf(i));const r=s(t,["fileData"]);r!=null&&l(e,["fileData"],Hf(r));const u=s(t,["thoughtSignature"]);u!=null&&l(e,["thoughtSignature"],u);const a=s(t,["functionCall"]);a!=null&&l(e,["functionCall"],a);const f=s(t,["codeExecutionResult"]);f!=null&&l(e,["codeExecutionResult"],f);const c=s(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const d=s(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function nc(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&l(e,["category"],n);const o=s(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function oc(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],Kf(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&l(e,["googleMaps"],Wf(r));const u=s(t,["urlContext"]);u!=null&&l(e,["urlContext"],u);const a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],a);const f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var st;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(st||(st={}));class Xt{constructor(e,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,i)}init(e,n,o){var i,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(r=(i=u.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ic extends lt{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Xt(st.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Ts(this.apiClient,e),o=n._url,i=L("{model}:batchGenerateContent",o),a=n.batch.inputConfig.requests,f=a.requests,c=[];for(const d of f){const p=Object.assign({},d);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=h,p.request=g}c.push(p)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(e),u=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(u)o.dest=`${u}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=xf(this.apiClient,e);return a=L("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>io(d))}else{const c=Ts(this.apiClient,e);return a=L("{model}:batchGenerateContent",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>rn(d))}}async createEmbeddingsInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Df(this.apiClient,e);return r=L("{model}:asyncBatchEmbedContent",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>rn(f))}}async get(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=$f(this.apiClient,e);return a=L("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>io(d))}else{const c=Jf(this.apiClient,e);return a=L("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>rn(d))}}async cancel(e){var n,o,i,r;let u="",a={};if(this.apiClient.isVertexAI()){const f=Af(this.apiClient,e);u=L("batchPredictionJobs/{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const f=If(this.apiClient,e);u=L("batches/{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Zf(e);return a=L("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=ec(d),h=new ms;return Object.assign(h,p),h})}else{const c=Qf(e);return a=L("batches",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=jf(d),h=new ms;return Object.assign(h,p),h})}}async delete(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Lf(this.apiClient,e);return a=L("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>kf(d))}else{const c=Uf(this.apiClient,e);return a=L("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>Ff(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sc(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&l(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Cs(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Rc(r))),l(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function rc(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=s(t,["expireTime"]);e!==void 0&&i!=null&&l(e,["expireTime"],i);const r=s(t,["displayName"]);e!==void 0&&r!=null&&l(e,["displayName"],r);const u=s(t,["contents"]);if(e!==void 0&&u!=null){let d=Se(u);Array.isArray(d)&&(d=d.map(p=>Cs(p))),l(e,["contents"],d)}const a=s(t,["systemInstruction"]);e!==void 0&&a!=null&&l(e,["systemInstruction"],Cs(ae(a)));const f=s(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(p=>Pc(p))),l(e,["tools"],d)}const c=s(t,["toolConfig"]);if(e!==void 0&&c!=null&&l(e,["toolConfig"],c),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lc(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=s(t,["expireTime"]);e!==void 0&&i!=null&&l(e,["expireTime"],i);const r=s(t,["displayName"]);e!==void 0&&r!=null&&l(e,["displayName"],r);const u=s(t,["contents"]);if(e!==void 0&&u!=null){let p=Se(u);Array.isArray(p)&&(p=p.map(h=>h)),l(e,["contents"],p)}const a=s(t,["systemInstruction"]);e!==void 0&&a!=null&&l(e,["systemInstruction"],ae(a));const f=s(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Mc(h))),l(e,["tools"],p)}const c=s(t,["toolConfig"]);e!==void 0&&c!=null&&l(e,["toolConfig"],c);const d=s(t,["kmsKeyName"]);return e!==void 0&&d!=null&&l(e,["encryption_spec","kmsKeyName"],d),n}function uc(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["model"],Nr(t,o));const i=s(e,["config"]);return i!=null&&rc(i,n),n}function ac(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["model"],Nr(t,o));const i=s(e,["config"]);return i!=null&&lc(i,n),n}function fc(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],$e(t,o)),n}function cc(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],$e(t,o)),n}function dc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function pc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function hc(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function mc(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&l(e,["description"],n);const o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=s(t,["response"]);u!=null&&l(e,["response"],u);const a=s(t,["responseJsonSchema"]);return a!=null&&l(e,["responseJsonSchema"],a),e}function gc(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],$e(t,o)),n}function yc(t,e){const n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],$e(t,o)),n}function _c(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function Tc(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Cc(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),n}function Ec(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),n}function vc(t){const e={},n=s(t,["config"]);return n!=null&&Cc(n,e),e}function Sc(t){const e={},n=s(t,["config"]);return n!=null&&Ec(n,e),e}function Ic(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=s(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u)),l(e,["cachedContents"],r)}return e}function Ac(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=s(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u)),l(e,["cachedContents"],r)}return e}function Rc(t){const e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&l(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&l(e,["inlineData"],sc(i));const r=s(t,["fileData"]);r!=null&&l(e,["fileData"],hc(r));const u=s(t,["thoughtSignature"]);u!=null&&l(e,["thoughtSignature"],u);const a=s(t,["functionCall"]);a!=null&&l(e,["functionCall"],a);const f=s(t,["codeExecutionResult"]);f!=null&&l(e,["codeExecutionResult"],f);const c=s(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const d=s(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function Pc(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],Tc(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&l(e,["googleMaps"],_c(r));const u=s(t,["urlContext"]);u!=null&&l(e,["urlContext"],u);const a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],a);const f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function Mc(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>mc(h))),l(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&l(e,["retrieval"],o);const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],i);const r=s(t,["googleSearchRetrieval"]);r!=null&&l(e,["googleSearchRetrieval"],r);const u=s(t,["enterpriseWebSearch"]);u!=null&&l(e,["enterpriseWebSearch"],u);const a=s(t,["googleMaps"]);a!=null&&l(e,["googleMaps"],a);const f=s(t,["urlContext"]);f!=null&&l(e,["urlContext"],f);const c=s(t,["computerUse"]);c!=null&&l(e,["computerUse"],c);const d=s(t,["codeExecution"]);return d!=null&&l(e,["codeExecution"],d),e}function wc(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=s(t,["expireTime"]);return e!==void 0&&i!=null&&l(e,["expireTime"],i),n}function xc(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=s(t,["expireTime"]);return e!==void 0&&i!=null&&l(e,["expireTime"],i),n}function Nc(t,e){const n={},o=s(e,["name"]);o!=null&&l(n,["_url","name"],$e(t,o));const i=s(e,["config"]);return i!=null&&wc(i,n),n}function Dc(t,e){const n={},o=s(e,["name"]);o!=null&&l(n,["_url","name"],$e(t,o));const i=s(e,["config"]);return i!=null&&xc(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uc extends lt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xt(st.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=ac(this.apiClient,e);return a=L("cachedContents",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>d)}else{const c=uc(this.apiClient,e);return a=L("cachedContents",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>d)}}async get(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=yc(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>d)}else{const c=gc(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>d)}}async delete(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=cc(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=pc(d),h=new ps;return Object.assign(h,p),h})}else{const c=fc(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=dc(d),h=new ps;return Object.assign(h,p),h})}}async update(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Dc(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>d)}else{const c=Nc(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>d)}}async listInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Sc(e);return a=L("cachedContents",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Ac(d),h=new hs;return Object.assign(h,p),h})}else{const c=vc(e);return a=L("cachedContents",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Ic(d),h=new hs;return Object.assign(h,p),h})}}}function Es(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(t){return this instanceof ie?(this.v=t,this):new ie(t)}function gt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(g){return function(T){return Promise.resolve(T).then(g,p)}}function a(g,T){o[g]&&(i[g]=function(C){return new Promise(function(D,R){r.push([g,C,D,R])>1||f(g,C)})},T&&(i[g]=T(i[g])))}function f(g,T){try{c(o[g](T))}catch(C){h(r[0][3],C)}}function c(g){g.value instanceof ie?Promise.resolve(g.value.v).then(d,p):h(r[0][2],g)}function d(g){f("next",g)}function p(g){f("throw",g)}function h(g,T){g(T),r.shift(),r.length&&f(r[0][0],r[0][1])}}function bt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Es=="function"?Es(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=t[r]&&function(u){return new Promise(function(a,f){u=t[r](u),i(a,f,u.done,u.value)})}}function i(r,u,a,f){Promise.resolve(f).then(function(c){r({value:c,done:a})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lc(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:$r(n)}function $r(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Fc(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vs(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const i=[];let r=!0;for(;o<n&&t[o].role==="model";)i.push(t[o]),r&&!$r(t[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class kc{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Vc(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Vc{constructor(e,n,o,i={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),Fc(r)}async sendMessage(e){var n;await this.sendPromise;const o=ae(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,u,a;const f=await i,c=(u=(r=f.candidates)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.content,d=f.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(a=d.slice(p))!==null&&a!==void 0?a:[]);const g=c?[c]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const o=ae(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const n=e?vs(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,i;return gt(this,arguments,function*(){var u,a,f,c;const d=[];try{for(var p=!0,h=bt(e),g;g=yield ie(h.next()),u=g.done,!u;p=!0){c=g.value,p=!1;const T=c;if(Lc(T)){const C=(i=(o=T.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;C!==void 0&&d.push(C)}yield yield ie(T)}}catch(T){a={error:T}}finally{try{!p&&!u&&(f=h.return)&&(yield ie(f.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,d)})}recordHistory(e,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...vs(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,An.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qc(t){const e={},n=s(t,["file"]);return n!=null&&l(e,["file"],n),e}function Gc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function Hc(t){const e={},n=s(t,["name"]);return n!=null&&l(e,["_url","file"],Vr(n)),e}function Bc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function bc(t){const e={},n=s(t,["name"]);return n!=null&&l(e,["_url","file"],Vr(n)),e}function Jc(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),n}function $c(t){const e={},n=s(t,["config"]);return n!=null&&Jc(n,e),e}function Wc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=s(t,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u)),l(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kc extends lt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xt(st.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$c(e);return r=L("files",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=Wc(f),d=new nf;return Object.assign(d,c),d})}}async createInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qc(e);return r=L("upload/v1beta/files",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Gc(f),d=new of;return Object.assign(d,c),d})}}async get(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bc(e);return r=L("files/{file}",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Hc(e);return r=L("files/{file}",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=Bc(f),d=new sf;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ln(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&l(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Yc(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ud(r))),l(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function Oc(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function zc(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&l(e,["description"],n);const o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=s(t,["response"]);u!=null&&l(e,["response"],u);const a=s(t,["responseJsonSchema"]);return a!=null&&l(e,["responseJsonSchema"],a),e}function Xc(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&l(e,["modelConfig"],n);const o=s(t,["audioTimestamp"]);o!=null&&l(e,["audioTimestamp"],o);const i=s(t,["candidateCount"]);i!=null&&l(e,["candidateCount"],i);const r=s(t,["enableAffectiveDialog"]);r!=null&&l(e,["enableAffectiveDialog"],r);const u=s(t,["frequencyPenalty"]);u!=null&&l(e,["frequencyPenalty"],u);const a=s(t,["logprobs"]);a!=null&&l(e,["logprobs"],a);const f=s(t,["maxOutputTokens"]);f!=null&&l(e,["maxOutputTokens"],f);const c=s(t,["mediaResolution"]);c!=null&&l(e,["mediaResolution"],c);const d=s(t,["presencePenalty"]);d!=null&&l(e,["presencePenalty"],d);const p=s(t,["responseJsonSchema"]);p!=null&&l(e,["responseJsonSchema"],p);const h=s(t,["responseLogprobs"]);h!=null&&l(e,["responseLogprobs"],h);const g=s(t,["responseMimeType"]);g!=null&&l(e,["responseMimeType"],g);const T=s(t,["responseModalities"]);T!=null&&l(e,["responseModalities"],T);const C=s(t,["responseSchema"]);C!=null&&l(e,["responseSchema"],C);const D=s(t,["routingConfig"]);D!=null&&l(e,["routingConfig"],D);const R=s(t,["seed"]);R!=null&&l(e,["seed"],R);const w=s(t,["speechConfig"]);w!=null&&l(e,["speechConfig"],Wr(w));const P=s(t,["stopSequences"]);P!=null&&l(e,["stopSequences"],P);const A=s(t,["temperature"]);A!=null&&l(e,["temperature"],A);const F=s(t,["thinkingConfig"]);F!=null&&l(e,["thinkingConfig"],F);const G=s(t,["topK"]);G!=null&&l(e,["topK"],G);const B=s(t,["topP"]);if(B!=null&&l(e,["topP"],B),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Qc(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function Zc(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function jc(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","temperature"],r);const u=s(t,["topP"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topP"],u);const a=s(t,["topK"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topK"],a);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","seed"],d);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Fo(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],Yc(ae(T)));const C=s(t,["tools"]);if(e!==void 0&&C!=null){let G=St(C);Array.isArray(G)&&(G=G.map(B=>fd(vt(B)))),l(e,["setup","tools"],G)}const D=s(t,["sessionResumption"]);e!==void 0&&D!=null&&l(e,["setup","sessionResumption"],ad(D));const R=s(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&l(e,["setup","inputAudioTranscription"],R);const w=s(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&l(e,["setup","outputAudioTranscription"],w);const P=s(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&l(e,["setup","realtimeInputConfig"],P);const A=s(t,["contextWindowCompression"]);e!==void 0&&A!=null&&l(e,["setup","contextWindowCompression"],A);const F=s(t,["proactivity"]);return e!==void 0&&F!=null&&l(e,["setup","proactivity"],F),n}function ed(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],Xc(o));const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","temperature"],r);const u=s(t,["topP"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topP"],u);const a=s(t,["topK"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topK"],a);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","seed"],d);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Wr(Fo(p)));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],ae(T));const C=s(t,["tools"]);if(e!==void 0&&C!=null){let G=St(C);Array.isArray(G)&&(G=G.map(B=>cd(vt(B)))),l(e,["setup","tools"],G)}const D=s(t,["sessionResumption"]);e!==void 0&&D!=null&&l(e,["setup","sessionResumption"],D);const R=s(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&l(e,["setup","inputAudioTranscription"],R);const w=s(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&l(e,["setup","outputAudioTranscription"],w);const P=s(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&l(e,["setup","realtimeInputConfig"],P);const A=s(t,["contextWindowCompression"]);e!==void 0&&A!=null&&l(e,["setup","contextWindowCompression"],A);const F=s(t,["proactivity"]);return e!==void 0&&F!=null&&l(e,["setup","proactivity"],F),n}function td(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["setup","model"],K(t,o));const i=s(e,["config"]);return i!=null&&l(n,["config"],jc(i,n)),n}function nd(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["setup","model"],K(t,o));const i=s(e,["config"]);return i!=null&&l(n,["config"],ed(i,n)),n}function od(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&l(e,["musicGenerationConfig"],n),e}function id(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),l(e,["weightedPrompts"],o)}return e}function sd(t){const e={},n=s(t,["media"]);if(n!=null){let c=Dr(n);Array.isArray(c)&&(c=c.map(d=>ln(d))),l(e,["mediaChunks"],c)}const o=s(t,["audio"]);o!=null&&l(e,["audio"],ln(Lr(o)));const i=s(t,["audioStreamEnd"]);i!=null&&l(e,["audioStreamEnd"],i);const r=s(t,["video"]);r!=null&&l(e,["video"],ln(Ur(r)));const u=s(t,["text"]);u!=null&&l(e,["text"],u);const a=s(t,["activityStart"]);a!=null&&l(e,["activityStart"],a);const f=s(t,["activityEnd"]);return f!=null&&l(e,["activityEnd"],f),e}function rd(t){const e={},n=s(t,["media"]);if(n!=null){let c=Dr(n);Array.isArray(c)&&(c=c.map(d=>d)),l(e,["mediaChunks"],c)}const o=s(t,["audio"]);o!=null&&l(e,["audio"],Lr(o));const i=s(t,["audioStreamEnd"]);i!=null&&l(e,["audioStreamEnd"],i);const r=s(t,["video"]);r!=null&&l(e,["video"],Ur(r));const u=s(t,["text"]);u!=null&&l(e,["text"],u);const a=s(t,["activityStart"]);a!=null&&l(e,["activityStart"],a);const f=s(t,["activityEnd"]);return f!=null&&l(e,["activityEnd"],f),e}function ld(t){const e={},n=s(t,["setupComplete"]);n!=null&&l(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&l(e,["serverContent"],o);const i=s(t,["toolCall"]);i!=null&&l(e,["toolCall"],i);const r=s(t,["toolCallCancellation"]);r!=null&&l(e,["toolCallCancellation"],r);const u=s(t,["usageMetadata"]);u!=null&&l(e,["usageMetadata"],dd(u));const a=s(t,["goAway"]);a!=null&&l(e,["goAway"],a);const f=s(t,["sessionResumptionUpdate"]);return f!=null&&l(e,["sessionResumptionUpdate"],f),e}function ud(t){const e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&l(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&l(e,["inlineData"],ln(i));const r=s(t,["fileData"]);r!=null&&l(e,["fileData"],Oc(r));const u=s(t,["thoughtSignature"]);u!=null&&l(e,["thoughtSignature"],u);const a=s(t,["functionCall"]);a!=null&&l(e,["functionCall"],a);const f=s(t,["codeExecutionResult"]);f!=null&&l(e,["codeExecutionResult"],f);const c=s(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const d=s(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function ad(t){const e={},n=s(t,["handle"]);if(n!=null&&l(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wr(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&l(e,["voiceConfig"],n),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function fd(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],Zc(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&l(e,["googleMaps"],Qc(r));const u=s(t,["urlContext"]);u!=null&&l(e,["urlContext"],u);const a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],a);const f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function cd(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>zc(h))),l(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&l(e,["retrieval"],o);const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],i);const r=s(t,["googleSearchRetrieval"]);r!=null&&l(e,["googleSearchRetrieval"],r);const u=s(t,["enterpriseWebSearch"]);u!=null&&l(e,["enterpriseWebSearch"],u);const a=s(t,["googleMaps"]);a!=null&&l(e,["googleMaps"],a);const f=s(t,["urlContext"]);f!=null&&l(e,["urlContext"],f);const c=s(t,["computerUse"]);c!=null&&l(e,["computerUse"],c);const d=s(t,["codeExecution"]);return d!=null&&l(e,["codeExecution"],d),e}function dd(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&l(e,["cachedContentTokenCount"],o);const i=s(t,["candidatesTokenCount"]);i!=null&&l(e,["responseTokenCount"],i);const r=s(t,["toolUsePromptTokenCount"]);r!=null&&l(e,["toolUsePromptTokenCount"],r);const u=s(t,["thoughtsTokenCount"]);u!=null&&l(e,["thoughtsTokenCount"],u);const a=s(t,["totalTokenCount"]);a!=null&&l(e,["totalTokenCount"],a);const f=s(t,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(T=>T)),l(e,["promptTokensDetails"],g)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(T=>T)),l(e,["cacheTokensDetails"],g)}const d=s(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>T)),l(e,["responseTokensDetails"],g)}const p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(T=>T)),l(e,["toolUsePromptTokensDetails"],g)}const h=s(t,["trafficType"]);return h!=null&&l(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pd(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&l(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function hd(t){const e={},n=s(t,["content"]);n!=null&&l(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],md(o));const i=s(t,["tokenCount"]);i!=null&&l(e,["tokenCount"],i);const r=s(t,["finishReason"]);r!=null&&l(e,["finishReason"],r);const u=s(t,["urlContextMetadata"]);u!=null&&l(e,["urlContextMetadata"],u);const a=s(t,["avgLogprobs"]);a!=null&&l(e,["avgLogprobs"],a);const f=s(t,["groundingMetadata"]);f!=null&&l(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&l(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);const p=s(t,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),l(e,["safetyRatings"],h)}return e}function md(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),l(e,["citations"],o)}return e}function gd(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let r=Se(i);Array.isArray(r)&&(r=r.map(u=>u)),l(n,["contents"],r)}return n}function yd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),l(e,["tokensInfo"],i)}return e}function _d(t){const e={},n=s(t,["values"]);n!=null&&l(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&l(e,["statistics"],Td(o)),e}function Td(t){const e={},n=s(t,["truncated"]);n!=null&&l(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&l(e,["tokenCount"],o),e}function Rn(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ip(r))),l(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function Cd(t){const e={},n=s(t,["controlType"]);n!=null&&l(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&l(e,["computeControl"],o),e}function Ed(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vd(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&l(e,["systemInstruction"],ae(o));const i=s(t,["tools"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(a=>Xr(a))),l(e,["tools"],u)}const r=s(t,["generationConfig"]);return e!==void 0&&r!=null&&l(e,["generationConfig"],cp(r)),n}function Sd(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let u=Se(i);Array.isArray(u)&&(u=u.map(a=>Rn(a))),l(n,["contents"],u)}const r=s(e,["config"]);return r!=null&&Ed(r),n}function Id(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let u=Se(i);Array.isArray(u)&&(u=u.map(a=>a)),l(n,["contents"],u)}const r=s(e,["config"]);return r!=null&&vd(r,n),n}function Ad(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&l(e,["totalTokens"],o);const i=s(t,["cachedContentTokenCount"]);return i!=null&&l(e,["cachedContentTokenCount"],i),e}function Rd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&l(e,["totalTokens"],o),e}function Pd(t,e){const n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],K(t,o)),n}function Md(t,e){const n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],K(t,o)),n}function wd(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function xd(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function Nd(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const i=s(t,["negativePrompt"]);e!==void 0&&i!=null&&l(e,["parameters","negativePrompt"],i);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&l(e,["parameters","sampleCount"],r);const u=s(t,["aspectRatio"]);e!==void 0&&u!=null&&l(e,["parameters","aspectRatio"],u);const a=s(t,["guidanceScale"]);e!==void 0&&a!=null&&l(e,["parameters","guidanceScale"],a);const f=s(t,["seed"]);e!==void 0&&f!=null&&l(e,["parameters","seed"],f);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&l(e,["parameters","safetySetting"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);const g=s(t,["language"]);e!==void 0&&g!=null&&l(e,["parameters","language"],g);const T=s(t,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const C=s(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&l(e,["parameters","outputOptions","compressionQuality"],C);const D=s(t,["addWatermark"]);e!==void 0&&D!=null&&l(e,["parameters","addWatermark"],D);const R=s(t,["labels"]);e!==void 0&&R!=null&&l(e,["labels"],R);const w=s(t,["editMode"]);e!==void 0&&w!=null&&l(e,["parameters","editMode"],w);const P=s(t,["baseSteps"]);return e!==void 0&&P!=null&&l(e,["parameters","editConfig","baseSteps"],P),n}function Dd(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["prompt"]);i!=null&&l(n,["instances[0]","prompt"],i);const r=s(e,["referenceImages"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(f=>xp(f))),l(n,["instances[0]","referenceImages"],a)}const u=s(e,["config"]);return u!=null&&Nd(u,n),n}function Ud(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Pn(r))),l(e,["generatedImages"],i)}return e}function Ld(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&l(e,["requests[]","title"],i);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&l(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fd(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&l(e,["instances[]","task_type"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&l(e,["instances[]","title"],i);const r=s(t,["outputDimensionality"]);e!==void 0&&r!=null&&l(e,["parameters","outputDimensionality"],r);const u=s(t,["mimeType"]);e!==void 0&&u!=null&&l(e,["instances[]","mimeType"],u);const a=s(t,["autoTruncate"]);return e!==void 0&&a!=null&&l(e,["parameters","autoTruncate"],a),n}function kd(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let a=Do(t,i);Array.isArray(a)&&(a=a.map(f=>f)),l(n,["requests[]","content"],a)}const r=s(e,["config"]);r!=null&&Ld(r,n);const u=s(e,["model"]);return u!==void 0&&l(n,["requests[]","model"],K(t,u)),n}function Vd(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let u=Do(t,i);Array.isArray(u)&&(u=u.map(a=>a)),l(n,["instances[]","content"],u)}const r=s(e,["config"]);return r!=null&&Fd(r,n),n}function qd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),l(e,["embeddings"],r)}const i=s(t,["metadata"]);return i!=null&&l(e,["metadata"],i),e}function Gd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>_d(u))),l(e,["embeddings"],r)}const i=s(t,["metadata"]);return i!=null&&l(e,["metadata"],i),e}function Hd(t){const e={},n=s(t,["endpoint"]);n!=null&&l(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&l(e,["deployedModelId"],o),e}function Bd(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function bd(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&l(e,["description"],n);const o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=s(t,["response"]);u!=null&&l(e,["response"],u);const a=s(t,["responseJsonSchema"]);return a!=null&&l(e,["responseJsonSchema"],a),e}function Jd(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&l(n,["systemInstruction"],Rn(ae(i)));const r=s(e,["temperature"]);r!=null&&l(o,["temperature"],r);const u=s(e,["topP"]);u!=null&&l(o,["topP"],u);const a=s(e,["topK"]);a!=null&&l(o,["topK"],a);const f=s(e,["candidateCount"]);f!=null&&l(o,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&l(o,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&l(o,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);const g=s(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const T=s(e,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const C=s(e,["seed"]);C!=null&&l(o,["seed"],C);const D=s(e,["responseMimeType"]);D!=null&&l(o,["responseMimeType"],D);const R=s(e,["responseSchema"]);R!=null&&l(o,["responseSchema"],Uo(R));const w=s(e,["responseJsonSchema"]);if(w!=null&&l(o,["responseJsonSchema"],w),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(n!==void 0&&P!=null){let X=P;Array.isArray(X)&&(X=X.map(ce=>Np(ce))),l(n,["safetySettings"],X)}const A=s(e,["tools"]);if(n!==void 0&&A!=null){let X=St(A);Array.isArray(X)&&(X=X.map(ce=>Vp(vt(ce)))),l(n,["tools"],X)}const F=s(e,["toolConfig"]);if(n!==void 0&&F!=null&&l(n,["toolConfig"],F),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=s(e,["cachedContent"]);n!==void 0&&G!=null&&l(n,["cachedContent"],$e(t,G));const B=s(e,["responseModalities"]);B!=null&&l(o,["responseModalities"],B);const Z=s(e,["mediaResolution"]);Z!=null&&l(o,["mediaResolution"],Z);const q=s(e,["speechConfig"]);if(q!=null&&l(o,["speechConfig"],Lo(q)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=s(e,["thinkingConfig"]);$!=null&&l(o,["thinkingConfig"],$);const se=s(e,["imageConfig"]);return se!=null&&l(o,["imageConfig"],se),o}function $d(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&l(n,["systemInstruction"],ae(i));const r=s(e,["temperature"]);r!=null&&l(o,["temperature"],r);const u=s(e,["topP"]);u!=null&&l(o,["topP"],u);const a=s(e,["topK"]);a!=null&&l(o,["topK"],a);const f=s(e,["candidateCount"]);f!=null&&l(o,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&l(o,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&l(o,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);const g=s(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const T=s(e,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const C=s(e,["seed"]);C!=null&&l(o,["seed"],C);const D=s(e,["responseMimeType"]);D!=null&&l(o,["responseMimeType"],D);const R=s(e,["responseSchema"]);R!=null&&l(o,["responseSchema"],Uo(R));const w=s(e,["responseJsonSchema"]);w!=null&&l(o,["responseJsonSchema"],w);const P=s(e,["routingConfig"]);P!=null&&l(o,["routingConfig"],P);const A=s(e,["modelSelectionConfig"]);A!=null&&l(o,["modelConfig"],A);const F=s(e,["safetySettings"]);if(n!==void 0&&F!=null){let oe=F;Array.isArray(oe)&&(oe=oe.map(Q=>Q)),l(n,["safetySettings"],oe)}const G=s(e,["tools"]);if(n!==void 0&&G!=null){let oe=St(G);Array.isArray(oe)&&(oe=oe.map(Q=>Xr(vt(Q)))),l(n,["tools"],oe)}const B=s(e,["toolConfig"]);n!==void 0&&B!=null&&l(n,["toolConfig"],B);const Z=s(e,["labels"]);n!==void 0&&Z!=null&&l(n,["labels"],Z);const q=s(e,["cachedContent"]);n!==void 0&&q!=null&&l(n,["cachedContent"],$e(t,q));const $=s(e,["responseModalities"]);$!=null&&l(o,["responseModalities"],$);const se=s(e,["mediaResolution"]);se!=null&&l(o,["mediaResolution"],se);const X=s(e,["speechConfig"]);X!=null&&l(o,["speechConfig"],zr(Lo(X)));const ce=s(e,["audioTimestamp"]);ce!=null&&l(o,["audioTimestamp"],ce);const ut=s(e,["thinkingConfig"]);ut!=null&&l(o,["thinkingConfig"],ut);const At=s(e,["imageConfig"]);return At!=null&&l(o,["imageConfig"],At),o}function Ss(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let u=Se(i);Array.isArray(u)&&(u=u.map(a=>Rn(a))),l(n,["contents"],u)}const r=s(e,["config"]);return r!=null&&l(n,["generationConfig"],Jd(t,r,n)),n}function Is(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["contents"]);if(i!=null){let u=Se(i);Array.isArray(u)&&(u=u.map(a=>a)),l(n,["contents"],u)}const r=s(e,["config"]);return r!=null&&l(n,["generationConfig"],$d(t,r,n)),n}function As(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(c=>hd(c))),l(e,["candidates"],f)}const i=s(t,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);const r=s(t,["promptFeedback"]);r!=null&&l(e,["promptFeedback"],r);const u=s(t,["responseId"]);u!=null&&l(e,["responseId"],u);const a=s(t,["usageMetadata"]);return a!=null&&l(e,["usageMetadata"],a),e}function Rs(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),l(e,["candidates"],c)}const i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);const r=s(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);const u=s(t,["promptFeedback"]);u!=null&&l(e,["promptFeedback"],u);const a=s(t,["responseId"]);a!=null&&l(e,["responseId"],a);const f=s(t,["usageMetadata"]);return f!=null&&l(e,["usageMetadata"],f),e}function Wd(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&l(e,["parameters","aspectRatio"],i);const r=s(t,["guidanceScale"]);if(e!==void 0&&r!=null&&l(e,["parameters","guidanceScale"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&l(e,["parameters","safetySetting"],u);const a=s(t,["personGeneration"]);e!==void 0&&a!=null&&l(e,["parameters","personGeneration"],a);const f=s(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&l(e,["parameters","includeSafetyAttributes"],f);const c=s(t,["includeRaiReason"]);e!==void 0&&c!=null&&l(e,["parameters","includeRaiReason"],c);const d=s(t,["language"]);e!==void 0&&d!=null&&l(e,["parameters","language"],d);const p=s(t,["outputMimeType"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","mimeType"],p);const h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&l(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=s(t,["imageSize"]);if(e!==void 0&&g!=null&&l(e,["parameters","sampleImageSize"],g),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Kd(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const i=s(t,["negativePrompt"]);e!==void 0&&i!=null&&l(e,["parameters","negativePrompt"],i);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&l(e,["parameters","sampleCount"],r);const u=s(t,["aspectRatio"]);e!==void 0&&u!=null&&l(e,["parameters","aspectRatio"],u);const a=s(t,["guidanceScale"]);e!==void 0&&a!=null&&l(e,["parameters","guidanceScale"],a);const f=s(t,["seed"]);e!==void 0&&f!=null&&l(e,["parameters","seed"],f);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&l(e,["parameters","safetySetting"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);const g=s(t,["language"]);e!==void 0&&g!=null&&l(e,["parameters","language"],g);const T=s(t,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const C=s(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&l(e,["parameters","outputOptions","compressionQuality"],C);const D=s(t,["addWatermark"]);e!==void 0&&D!=null&&l(e,["parameters","addWatermark"],D);const R=s(t,["labels"]);e!==void 0&&R!=null&&l(e,["labels"],R);const w=s(t,["imageSize"]);e!==void 0&&w!=null&&l(e,["parameters","sampleImageSize"],w);const P=s(t,["enhancePrompt"]);return e!==void 0&&P!=null&&l(e,["parameters","enhancePrompt"],P),n}function Yd(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["prompt"]);i!=null&&l(n,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&Wd(r,n),n}function Od(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["prompt"]);i!=null&&l(n,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&Kd(r,n),n}function zd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>lp(u))),l(e,["generatedImages"],r)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&l(e,["positivePromptSafetyAttributes"],Yr(i)),e}function Xd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Pn(u))),l(e,["generatedImages"],r)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&l(e,["positivePromptSafetyAttributes"],Or(i)),e}function Qd(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=s(t,["durationSeconds"]);if(e!==void 0&&i!=null&&l(e,["parameters","durationSeconds"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&l(e,["parameters","aspectRatio"],r);const u=s(t,["resolution"]);e!==void 0&&u!=null&&l(e,["parameters","resolution"],u);const a=s(t,["personGeneration"]);if(e!==void 0&&a!=null&&l(e,["parameters","personGeneration"],a),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=s(t,["negativePrompt"]);e!==void 0&&f!=null&&l(e,["parameters","negativePrompt"],f);const c=s(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&l(e,["parameters","enhancePrompt"],c),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=s(t,["lastFrame"]);e!==void 0&&d!=null&&l(e,["instances[0]","lastFrame"],Mn(d));const p=s(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>Xp(g))),l(e,["instances[0]","referenceImages"],h)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Zd(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const r=s(t,["fps"]);e!==void 0&&r!=null&&l(e,["parameters","fps"],r);const u=s(t,["durationSeconds"]);e!==void 0&&u!=null&&l(e,["parameters","durationSeconds"],u);const a=s(t,["seed"]);e!==void 0&&a!=null&&l(e,["parameters","seed"],a);const f=s(t,["aspectRatio"]);e!==void 0&&f!=null&&l(e,["parameters","aspectRatio"],f);const c=s(t,["resolution"]);e!==void 0&&c!=null&&l(e,["parameters","resolution"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d);const p=s(t,["pubsubTopic"]);e!==void 0&&p!=null&&l(e,["parameters","pubsubTopic"],p);const h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&l(e,["parameters","negativePrompt"],h);const g=s(t,["enhancePrompt"]);e!==void 0&&g!=null&&l(e,["parameters","enhancePrompt"],g);const T=s(t,["generateAudio"]);e!==void 0&&T!=null&&l(e,["parameters","generateAudio"],T);const C=s(t,["lastFrame"]);e!==void 0&&C!=null&&l(e,["instances[0]","lastFrame"],Ae(C));const D=s(t,["referenceImages"]);if(e!==void 0&&D!=null){let P=D;Array.isArray(P)&&(P=P.map(A=>Qp(A))),l(e,["instances[0]","referenceImages"],P)}const R=s(t,["mask"]);e!==void 0&&R!=null&&l(e,["instances[0]","mask"],zp(R));const w=s(t,["compressionQuality"]);return e!==void 0&&w!=null&&l(e,["parameters","compressionQuality"],w),n}function jd(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const r=s(t,["error"]);r!=null&&l(e,["error"],r);const u=s(t,["response","generateVideoResponse"]);return u!=null&&l(e,["response"],op(u)),e}function ep(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);const i=s(t,["done"]);i!=null&&l(e,["done"],i);const r=s(t,["error"]);r!=null&&l(e,["error"],r);const u=s(t,["response"]);return u!=null&&l(e,["response"],ip(u)),e}function tp(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["prompt"]);i!=null&&l(n,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&l(n,["instances[0]","image"],Mn(r));const u=s(e,["video"]);u!=null&&l(n,["instances[0]","video"],Qr(u));const a=s(e,["source"]);a!=null&&sp(a,n);const f=s(e,["config"]);return f!=null&&Qd(f,n),n}function np(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["prompt"]);i!=null&&l(n,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&l(n,["instances[0]","image"],Ae(r));const u=s(e,["video"]);u!=null&&l(n,["instances[0]","video"],Zr(u));const a=s(e,["source"]);a!=null&&rp(a,n);const f=s(e,["config"]);return f!=null&&Zd(f,n),n}function op(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>ap(u))),l(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function ip(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>fp(u))),l(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function sp(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],Mn(i));const r=s(t,["video"]);return e!==void 0&&r!=null&&l(e,["instances[0]","video"],Qr(r)),n}function rp(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],Ae(i));const r=s(t,["video"]);return e!==void 0&&r!=null&&l(e,["instances[0]","video"],Zr(r)),n}function lp(t){const e={},n=s(t,["_self"]);n!=null&&l(e,["image"],gp(n));const o=s(t,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);const i=s(t,["_self"]);return i!=null&&l(e,["safetyAttributes"],Yr(i)),e}function Pn(t){const e={},n=s(t,["_self"]);n!=null&&l(e,["image"],Kr(n));const o=s(t,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);const i=s(t,["_self"]);i!=null&&l(e,["safetyAttributes"],Or(i));const r=s(t,["prompt"]);return r!=null&&l(e,["enhancedPrompt"],r),e}function up(t){const e={},n=s(t,["_self"]);n!=null&&l(e,["mask"],Kr(n));const o=s(t,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),l(e,["labels"],i)}return e}function ap(t){const e={},n=s(t,["video"]);return n!=null&&l(e,["video"],Yp(n)),e}function fp(t){const e={},n=s(t,["_self"]);return n!=null&&l(e,["video"],Op(n)),e}function cp(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&l(e,["modelConfig"],n);const o=s(t,["audioTimestamp"]);o!=null&&l(e,["audioTimestamp"],o);const i=s(t,["candidateCount"]);i!=null&&l(e,["candidateCount"],i);const r=s(t,["enableAffectiveDialog"]);r!=null&&l(e,["enableAffectiveDialog"],r);const u=s(t,["frequencyPenalty"]);u!=null&&l(e,["frequencyPenalty"],u);const a=s(t,["logprobs"]);a!=null&&l(e,["logprobs"],a);const f=s(t,["maxOutputTokens"]);f!=null&&l(e,["maxOutputTokens"],f);const c=s(t,["mediaResolution"]);c!=null&&l(e,["mediaResolution"],c);const d=s(t,["presencePenalty"]);d!=null&&l(e,["presencePenalty"],d);const p=s(t,["responseJsonSchema"]);p!=null&&l(e,["responseJsonSchema"],p);const h=s(t,["responseLogprobs"]);h!=null&&l(e,["responseLogprobs"],h);const g=s(t,["responseMimeType"]);g!=null&&l(e,["responseMimeType"],g);const T=s(t,["responseModalities"]);T!=null&&l(e,["responseModalities"],T);const C=s(t,["responseSchema"]);C!=null&&l(e,["responseSchema"],C);const D=s(t,["routingConfig"]);D!=null&&l(e,["routingConfig"],D);const R=s(t,["seed"]);R!=null&&l(e,["seed"],R);const w=s(t,["speechConfig"]);w!=null&&l(e,["speechConfig"],zr(w));const P=s(t,["stopSequences"]);P!=null&&l(e,["stopSequences"],P);const A=s(t,["temperature"]);A!=null&&l(e,["temperature"],A);const F=s(t,["thinkingConfig"]);F!=null&&l(e,["thinkingConfig"],F);const G=s(t,["topK"]);G!=null&&l(e,["topK"],G);const B=s(t,["topP"]);if(B!=null&&l(e,["topP"],B),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function dp(t,e){const n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],K(t,o)),n}function pp(t,e){const n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],K(t,o)),n}function hp(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function mp(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function gp(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&l(e,["imageBytes"],Xe(n));const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Kr(t){const e={},n=s(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["imageBytes"],Xe(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Mn(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&l(e,["bytesBase64Encoded"],Xe(n));const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Ae(t){const e={},n=s(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&l(e,["bytesBase64Encoded"],Xe(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function yp(t,e,n){const o={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&l(n,["_query","pageSize"],i);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&l(n,["_query","pageToken"],r);const u=s(e,["filter"]);n!==void 0&&u!=null&&l(n,["_query","filter"],u);const a=s(e,["queryBase"]);return n!==void 0&&a!=null&&l(n,["_url","models_url"],qr(t,a)),o}function _p(t,e,n){const o={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&l(n,["_query","pageSize"],i);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&l(n,["_query","pageToken"],r);const u=s(e,["filter"]);n!==void 0&&u!=null&&l(n,["_query","filter"],u);const a=s(e,["queryBase"]);return n!==void 0&&a!=null&&l(n,["_url","models_url"],qr(t,a)),o}function Tp(t,e){const n={},o=s(e,["config"]);return o!=null&&yp(t,o,n),n}function Cp(t,e){const n={},o=s(e,["config"]);return o!=null&&_p(t,o,n),n}function Ep(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=s(t,["_self"]);if(i!=null){let r=Gr(i);Array.isArray(r)&&(r=r.map(u=>so(u))),l(e,["models"],r)}return e}function vp(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=s(t,["_self"]);if(i!=null){let r=Gr(i);Array.isArray(r)&&(r=r.map(u=>ro(u))),l(e,["models"],r)}return e}function Sp(t){const e={},n=s(t,["maskMode"]);n!=null&&l(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&l(e,["maskClasses"],o);const i=s(t,["maskDilation"]);return i!=null&&l(e,["dilation"],i),e}function so(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const r=s(t,["version"]);r!=null&&l(e,["version"],r);const u=s(t,["_self"]);u!=null&&l(e,["tunedModelInfo"],qp(u));const a=s(t,["inputTokenLimit"]);a!=null&&l(e,["inputTokenLimit"],a);const f=s(t,["outputTokenLimit"]);f!=null&&l(e,["outputTokenLimit"],f);const c=s(t,["supportedGenerationMethods"]);return c!=null&&l(e,["supportedActions"],c),e}function ro(t){const e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);const o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const r=s(t,["versionId"]);r!=null&&l(e,["version"],r);const u=s(t,["deployedModels"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>Hd(h))),l(e,["endpoints"],p)}const a=s(t,["labels"]);a!=null&&l(e,["labels"],a);const f=s(t,["_self"]);f!=null&&l(e,["tunedModelInfo"],Gp(f));const c=s(t,["defaultCheckpointId"]);c!=null&&l(e,["defaultCheckpointId"],c);const d=s(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),l(e,["checkpoints"],p)}return e}function Ip(t){const e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&l(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&l(e,["inlineData"],pd(i));const r=s(t,["fileData"]);r!=null&&l(e,["fileData"],Bd(r));const u=s(t,["thoughtSignature"]);u!=null&&l(e,["thoughtSignature"],u);const a=s(t,["functionCall"]);a!=null&&l(e,["functionCall"],a);const f=s(t,["codeExecutionResult"]);f!=null&&l(e,["codeExecutionResult"],f);const c=s(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const d=s(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function Ap(t){const e={},n=s(t,["productImage"]);return n!=null&&l(e,["image"],Ae(n)),e}function Rp(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const i=s(t,["baseSteps"]);e!==void 0&&i!=null&&l(e,["parameters","editConfig","baseSteps"],i);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);const u=s(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);const a=s(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&l(e,["parameters","safetySetting"],a);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const c=s(t,["addWatermark"]);e!==void 0&&c!=null&&l(e,["parameters","addWatermark"],c);const d=s(t,["outputMimeType"]);e!==void 0&&d!=null&&l(e,["parameters","outputOptions","mimeType"],d);const p=s(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","compressionQuality"],p);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&l(e,["parameters","enhancePrompt"],h);const g=s(t,["labels"]);return e!==void 0&&g!=null&&l(e,["labels"],g),n}function Pp(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["source"]);i!=null&&wp(i,n);const r=s(e,["config"]);return r!=null&&Rp(r,n),n}function Mp(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Pn(i))),l(e,["generatedImages"],o)}return e}function wp(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=s(t,["personImage"]);e!==void 0&&i!=null&&l(e,["instances[0]","personImage","image"],Ae(i));const r=s(t,["productImages"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(a=>Ap(a))),l(e,["instances[0]","productImages"],u)}return n}function xp(t){const e={},n=s(t,["referenceImage"]);n!=null&&l(e,["referenceImage"],Ae(n));const o=s(t,["referenceId"]);o!=null&&l(e,["referenceId"],o);const i=s(t,["referenceType"]);i!=null&&l(e,["referenceType"],i);const r=s(t,["maskImageConfig"]);r!=null&&l(e,["maskImageConfig"],Sp(r));const u=s(t,["controlImageConfig"]);u!=null&&l(e,["controlImageConfig"],Cd(u));const a=s(t,["styleImageConfig"]);a!=null&&l(e,["styleImageConfig"],a);const f=s(t,["subjectImageConfig"]);return f!=null&&l(e,["subjectImageConfig"],f),e}function Yr(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);const i=s(t,["contentType"]);return i!=null&&l(e,["contentType"],i),e}function Or(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);const i=s(t,["contentType"]);return i!=null&&l(e,["contentType"],i),e}function Np(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&l(e,["category"],n);const o=s(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function Dp(t){const e={},n=s(t,["image"]);return n!=null&&l(e,["image"],Ae(n)),e}function Up(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&l(e,["parameters","mode"],o);const i=s(t,["maxPredictions"]);e!==void 0&&i!=null&&l(e,["parameters","maxPredictions"],i);const r=s(t,["confidenceThreshold"]);e!==void 0&&r!=null&&l(e,["parameters","confidenceThreshold"],r);const u=s(t,["maskDilation"]);e!==void 0&&u!=null&&l(e,["parameters","maskDilation"],u);const a=s(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&l(e,["parameters","binaryColorThreshold"],a);const f=s(t,["labels"]);return e!==void 0&&f!=null&&l(e,["labels"],f),n}function Lp(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["source"]);i!=null&&kp(i,n);const r=s(e,["config"]);return r!=null&&Up(r,n),n}function Fp(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>up(i))),l(e,["generatedMasks"],o)}return e}function kp(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],Ae(i));const r=s(t,["scribbleImage"]);return e!==void 0&&r!=null&&l(e,["instances[0]","scribble"],Dp(r)),n}function zr(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&l(e,["voiceConfig"],n),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function Vp(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],mp(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&l(e,["googleMaps"],hp(r));const u=s(t,["urlContext"]);u!=null&&l(e,["urlContext"],u);const a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],a);const f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function Xr(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>bd(h))),l(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&l(e,["retrieval"],o);const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],i);const r=s(t,["googleSearchRetrieval"]);r!=null&&l(e,["googleSearchRetrieval"],r);const u=s(t,["enterpriseWebSearch"]);u!=null&&l(e,["enterpriseWebSearch"],u);const a=s(t,["googleMaps"]);a!=null&&l(e,["googleMaps"],a);const f=s(t,["urlContext"]);f!=null&&l(e,["urlContext"],f);const c=s(t,["computerUse"]);c!=null&&l(e,["computerUse"],c);const d=s(t,["codeExecution"]);return d!=null&&l(e,["codeExecution"],d),e}function qp(t){const e={},n=s(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&l(e,["createTime"],o);const i=s(t,["updateTime"]);return i!=null&&l(e,["updateTime"],i),e}function Gp(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&l(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&l(e,["createTime"],o);const i=s(t,["updateTime"]);return i!=null&&l(e,["updateTime"],i),e}function Hp(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const i=s(t,["description"]);e!==void 0&&i!=null&&l(e,["description"],i);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&l(e,["defaultCheckpointId"],r),n}function Bp(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const i=s(t,["description"]);e!==void 0&&i!=null&&l(e,["description"],i);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&l(e,["defaultCheckpointId"],r),n}function bp(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","name"],K(t,o));const i=s(e,["config"]);return i!=null&&Hp(i,n),n}function Jp(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["config"]);return i!=null&&Bp(i,n),n}function $p(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const i=s(t,["includeRaiReason"]);e!==void 0&&i!=null&&l(e,["parameters","includeRaiReason"],i);const r=s(t,["outputMimeType"]);e!==void 0&&r!=null&&l(e,["parameters","outputOptions","mimeType"],r);const u=s(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&l(e,["parameters","outputOptions","compressionQuality"],u);const a=s(t,["enhanceInputImage"]);e!==void 0&&a!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],a);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const c=s(t,["labels"]);e!==void 0&&c!=null&&l(e,["labels"],c);const d=s(t,["numberOfImages"]);e!==void 0&&d!=null&&l(e,["parameters","sampleCount"],d);const p=s(t,["mode"]);return e!==void 0&&p!=null&&l(e,["parameters","mode"],p),n}function Wp(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],K(t,o));const i=s(e,["image"]);i!=null&&l(n,["instances[0]","image"],Ae(i));const r=s(e,["upscaleFactor"]);r!=null&&l(n,["parameters","upscaleConfig","upscaleFactor"],r);const u=s(e,["config"]);return u!=null&&$p(u,n),n}function Kp(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Pn(r))),l(e,["generatedImages"],i)}return e}function Yp(t){const e={},n=s(t,["uri"]);n!=null&&l(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&l(e,["videoBytes"],Xe(o));const i=s(t,["encoding"]);return i!=null&&l(e,["mimeType"],i),e}function Op(t){const e={},n=s(t,["gcsUri"]);n!=null&&l(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],Xe(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function zp(t){const e={},n=s(t,["image"]);n!=null&&l(e,["_self"],Ae(n));const o=s(t,["maskMode"]);return o!=null&&l(e,["maskMode"],o),e}function Xp(t){const e={},n=s(t,["image"]);n!=null&&l(e,["image"],Mn(n));const o=s(t,["referenceType"]);return o!=null&&l(e,["referenceType"],o),e}function Qp(t){const e={},n=s(t,["image"]);n!=null&&l(e,["image"],Ae(n));const o=s(t,["referenceType"]);return o!=null&&l(e,["referenceType"],o),e}function Qr(t){const e={},n=s(t,["uri"]);n!=null&&l(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&l(e,["encodedVideo"],Xe(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["encoding"],i),e}function Zr(t){const e={},n=s(t,["uri"]);n!=null&&l(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&l(e,["bytesBase64Encoded"],Xe(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zp="Content-Type",jp="X-Server-Timeout",eh="User-Agent",lo="x-goog-api-client",th="1.27.0",nh=`google-genai-sdk/${th}`,oh="v1beta1",ih="v1beta",Ps=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class sh{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:oh,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:ih,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[u,a]of Object.entries(e.queryParams))i.searchParams.append(u,String(a));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,i){if(n&&n.timeout||i){const r=new AbortController,u=r.signal;if(n.timeout&&n?.timeout>0){const a=setTimeout(()=>r.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=u}return n&&n.extraBody!==null&&rh(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Ms(i),new no(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Ms(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return gt(this,arguments,function*(){const i=(n=e?.body)===null||n===void 0?void 0:n.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let u="";for(;;){const{done:a,value:f}=yield ie(i.read());if(a){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=r.decode(f,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,T=h.code,C=`got status: ${g}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new An({message:C,status:T})}}catch(p){if(p.name==="ApiError")throw p}u+=c;let d=u.match(Ps);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield ie(new no(h)),u=u.slice(d[0].length),d=u.match(Ps)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=nh+" "+this.clientOptions.userAgentExtra;return e[eh]=n,e[lo]=n,e[Zp]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))o.append(i,r);e.timeout&&e.timeout>0&&o.append(jp,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}async uploadFile(e,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,u=await r.stat(e);i.sizeBytes=String(u.size);const a=(o=n?.mimeType)!==null&&o!==void 0?o:u.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const f=await this.fetchUploadUrl(i,n);return r.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let i={};n?.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},u=await this.request({path:L("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(o=u?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function Ms(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new An({message:i,status:n}):new Error(i)}}function rh(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,u){const a=Object.assign({},r);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const c=u[f],d=a[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?a[f]=o(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),a[f]=c)}return a}const i=o(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lh="mcp_used/unknown";let uh=!1;function jr(t){for(const e of t)if(ah(e)||typeof e=="object"&&"inputSchema"in e)return!0;return uh}function el(t){var e;const n=(e=t[lo])!==null&&e!==void 0?e:"";t[lo]=(n+` ${lh}`).trimStart()}function ah(t){return t!==null&&typeof t=="object"&&t instanceof ko}function fh(t,e=100){return gt(this,arguments,function*(){let o,i=0;for(;i<e;){const r=yield ie(t.listTools({cursor:o}));for(const u of r.tools)yield yield ie(u),i++;if(!r.nextCursor)break;o=r.nextCursor}})}class ko{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ko(e,n)}async initialize(){var e,n,o,i;if(this.mcpTools.length>0)return;const r={},u=[];for(const d of this.mcpClients)try{for(var a=!0,f=(n=void 0,bt(fh(d))),c;c=await f.next(),e=c.done,!e;a=!0){i=c.value,a=!1;const p=i;u.push(p);const h=p.name;if(r[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);r[h]=d}}catch(p){n={error:p}}finally{try{!a&&!e&&(o=f.return)&&await o.call(f)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),mf(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const u=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ch(t,e,n){const o=new lf;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),e(o)}class dh{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),u=mh(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const d=new Promise(P=>{c=P}),p=e.callbacks,h=function(){c({})},g=this.apiClient,T={onopen:h,onmessage:P=>{ch(g,p.onmessage,P)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(P){}},C=this.webSocketFactory.create(f,hh(u),T);C.connect(),await d;const w={setup:{model:K(this.apiClient,e.model)}};return C.send(JSON.stringify(w)),new ph(C,this.apiClient)}}class ph{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=id(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=od(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ct.PLAY)}pause(){this.sendPlaybackControl(ct.PAUSE)}stop(){this.sendPlaybackControl(ct.STOP)}resetContext(){this.sendPlaybackControl(ct.RESET_CONTEXT)}close(){this.conn.close()}}function hh(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function mh(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gh="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yh(t,e,n){const o=new rf;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(t.isVertexAI()){const u=ld(r);Object.assign(o,u)}else Object.assign(o,r);e(o)}class _h{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new dh(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,i,r,u,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&jr(e.config.tools)&&el(p);const h=vh(p);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const q=this.apiClient.getApiKey();let $="BidiGenerateContent",se="key";q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",se="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${$}?${se}=${q}`}let g=()=>{};const T=new Promise(q=>{g=q}),C=e.callbacks,D=function(){var q;(q=C?.onopen)===null||q===void 0||q.call(C),g({})},R=this.apiClient,w={onopen:D,onmessage:q=>{yh(R,C.onmessage,q)},onerror:(n=C?.onerror)!==null&&n!==void 0?n:function(q){},onclose:(o=C?.onclose)!==null&&o!==void 0?o:function(q){}},P=this.webSocketFactory.create(d,Eh(h),w);P.connect(),await T;let A=K(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const q=this.apiClient.getProject(),$=this.apiClient.getLocation();A=`projects/${q}/locations/${$}/`+A}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hn.AUDIO]}:e.config.responseModalities=[hn.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(a=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&a!==void 0?a:[],B=[];for(const q of G)if(this.isCallableTool(q)){const $=q;B.push(await $.tool())}else B.push(q);B.length>0&&(e.config.tools=B);const Z={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=nd(this.apiClient,Z):F=td(this.apiClient,Z),delete F.config,P.send(JSON.stringify(F)),new Ch(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Th={turnComplete:!0};class Ch{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Se(n.turns),e.isVertexAI()||(o=o.map(i=>Rn(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(gh)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Th),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:rd(e)}:n={realtimeInput:sd(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Eh(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function vh(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ws=10;function xs(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(yt(u)){i=!0;break}if(!i)return!0;const r=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function yt(t){return"callTool"in t&&typeof t.callTool=="function"}function Sh(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>yt(i)))!==null&&o!==void 0?o:!1}function Ih(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!yt(i)))!==null&&o!==void 0?o:!1}function Ns(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ah extends lt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,i,r,u,a;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Sh(n)||xs(n.config))return await this.generateContentInternal(f);if(Ih(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const p=Se(f.contents),h=(r=(i=(o=f.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:ws;let g=0;for(;g<h&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const T=c.candidates[0].content,C=[];for(const D of(a=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&a!==void 0?a:[])if(yt(D)){const w=await D.callTool(c.functionCalls);C.push(...w)}g++,d={role:"user",parts:C},f.contents=Se(f.contents),f.contents.push(T),f.contents.push(d),Ns(f.config)&&(p.push(T),p.push(d))}return Ns(f.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),xs(n.config)){const o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const u=[];if(o?.generatedImages)for(const f of o.generatedImages)f&&f?.safetyAttributes&&((i=f?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=f?.safetyAttributes:u.push(f);let a;return r?a={generatedImages:u,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async n=>{var o;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Xt(st.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(u),u)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,u,a,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(r=n.source)===null||r===void 0?void 0:r.video)===null||u===void 0)&&u.uri&&(!((f=(a=n.source)===null||a===void 0?void 0:a.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,i;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const u=await Promise.all(r.map(async f=>yt(f)?await f.tool():f)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(a.config.tools=u,e.config&&e.config.tools&&jr(e.config.tools)){const f=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),el(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,o,i;const r=new Map;for(const u of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(yt(u)){const a=u,f=await a.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(r.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);r.set(c.name,a)}}return r}async processAfcStream(e){var n,o,i;const r=(i=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:ws;let u=!1,a=0;const f=await this.initAfcToolsMap(e);return(function(c,d,p){var h,g;return gt(this,arguments,function*(){for(var T,C,D,R;a<r;){u&&(a++,u=!1);const F=yield ie(c.processParamsMaybeAddMcpUsage(p)),G=yield ie(c.generateContentStreamInternal(F)),B=[],Z=[];try{for(var w=!0,P=(C=void 0,bt(G)),A;A=yield ie(P.next()),T=A.done,!T;w=!0){R=A.value,w=!1;const q=R;if(yield yield ie(q),q.candidates&&(!((h=q.candidates[0])===null||h===void 0)&&h.content)){Z.push(q.candidates[0].content);for(const $ of(g=q.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<r&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has($.functionCall.name)){const se=yield ie(d.get($.functionCall.name).callTool([$.functionCall]));B.push(...se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(q){C={error:q}}finally{try{!w&&!T&&(D=P.return)&&(yield ie(D.call(P)))}finally{if(C)throw C.error}}if(B.length>0){u=!0;const q=new Nt;q.candidates=[{content:{role:"user",parts:B}}],yield yield ie(q);const $=[];$.push(...Z),$.push({role:"user",parts:B});const se=Se(p.contents).concat($);p.contents=se}else break}})})(this,f,e)}async generateContentInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Is(this.apiClient,e);return a=L("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Rs(d),h=new Nt;return Object.assign(h,p),h})}else{const c=Ss(this.apiClient,e);return a=L("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=As(d),h=new Nt;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Is(this.apiClient,e);return a=L("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.requestStream({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(p){return gt(this,arguments,function*(){var h,g,T,C;try{for(var D=!0,R=bt(p),w;w=yield ie(R.next()),h=w.done,!h;D=!0){C=w.value,D=!1;const P=C,A=Rs(yield ie(P.json()));A.sdkHttpResponse={headers:P.headers};const F=new Nt;Object.assign(F,A),yield yield ie(F)}}catch(P){g={error:P}}finally{try{!D&&!h&&(T=R.return)&&(yield ie(T.call(R)))}finally{if(g)throw g.error}}})})}else{const c=Ss(this.apiClient,e);return a=L("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.requestStream({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(p){return gt(this,arguments,function*(){var h,g,T,C;try{for(var D=!0,R=bt(p),w;w=yield ie(R.next()),h=w.done,!h;D=!0){C=w.value,D=!1;const P=C,A=As(yield ie(P.json()));A.sdkHttpResponse={headers:P.headers};const F=new Nt;Object.assign(F,A),yield yield ie(F)}}catch(P){g={error:P}}finally{try{!D&&!h&&(T=R.return)&&(yield ie(T.call(R)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Vd(this.apiClient,e);return a=L("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Gd(d),h=new ls;return Object.assign(h,p),h})}else{const c=kd(this.apiClient,e);return a=L("{model}:batchEmbedContents",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=qd(d),h=new ls;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Od(this.apiClient,e);return a=L("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Xd(d),h=new us;return Object.assign(h,p),h})}else{const c=Yd(this.apiClient,e);return a=L("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=zd(d),h=new us;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI()){const a=Dd(this.apiClient,e);return r=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=Ud(f),d=new Qa;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI()){const a=Wp(this.apiClient,e);return r=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=Kp(f),d=new Za;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI()){const a=Pp(this.apiClient,e);return r=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Mp(f),d=new ja;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI()){const a=Lp(this.apiClient,e);return r=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Fp(f),d=new ef;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=pp(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>ro(d))}else{const c=dp(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>so(d))}}async listInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Cp(this.apiClient,e);return a=L("{models_url}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=vp(d),h=new as;return Object.assign(h,p),h})}else{const c=Tp(this.apiClient,e);return a=L("{models_url}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Ep(d),h=new as;return Object.assign(h,p),h})}}async update(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Jp(this.apiClient,e);return a=L("{model}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>ro(d))}else{const c=bp(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>so(d))}}async delete(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Md(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=xd(d),h=new fs;return Object.assign(h,p),h})}else{const c=Pd(this.apiClient,e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=wd(d),h=new fs;return Object.assign(h,p),h})}}async countTokens(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Id(this.apiClient,e);return a=L("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Rd(d),h=new cs;return Object.assign(h,p),h})}else{const c=Sd(this.apiClient,e);return a=L("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=Ad(d),h=new cs;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI()){const a=gd(this.apiClient,e);return r=L("{model}:computeTokens",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=yd(f),d=new tf;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=np(this.apiClient,e);return a=L("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u.then(d=>{const p=ep(d),h=new mn;return Object.assign(h,p),h})}else{const c=tp(this.apiClient,e);return a=L("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u.then(d=>{const p=jd(d),h=new mn;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rh extends lt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:u,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:u,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=Oa(e);return a=L("{operationName}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),u}else{const c=Ya(e);return a=L("{operationName}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),u}}async fetchPredictVideosOperationInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI()){const a=Ha(e);return r=L("{resourceName}:fetchPredictOperation",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ph(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&l(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Mh(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>kh(r))),l(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function wh(t,e,n){const o={},i=s(e,["expireTime"]);n!==void 0&&i!=null&&l(n,["expireTime"],i);const r=s(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&l(n,["newSessionExpireTime"],r);const u=s(e,["uses"]);n!==void 0&&u!=null&&l(n,["uses"],u);const a=s(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&l(n,["bidiGenerateContentSetup"],Fh(t,a));const f=s(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&l(n,["fieldMask"],f),o}function xh(t,e){const n={},o=s(e,["config"]);return o!=null&&l(n,["config"],wh(t,o,n)),n}function Nh(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Dh(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function Uh(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Lh(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","temperature"],r);const u=s(t,["topP"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topP"],u);const a=s(t,["topK"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topK"],a);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","seed"],d);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Fo(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],Mh(ae(T)));const C=s(t,["tools"]);if(e!==void 0&&C!=null){let G=St(C);Array.isArray(G)&&(G=G.map(B=>qh(vt(B)))),l(e,["setup","tools"],G)}const D=s(t,["sessionResumption"]);e!==void 0&&D!=null&&l(e,["setup","sessionResumption"],Vh(D));const R=s(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&l(e,["setup","inputAudioTranscription"],R);const w=s(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&l(e,["setup","outputAudioTranscription"],w);const P=s(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&l(e,["setup","realtimeInputConfig"],P);const A=s(t,["contextWindowCompression"]);e!==void 0&&A!=null&&l(e,["setup","contextWindowCompression"],A);const F=s(t,["proactivity"]);return e!==void 0&&F!=null&&l(e,["setup","proactivity"],F),n}function Fh(t,e){const n={},o=s(e,["model"]);o!=null&&l(n,["setup","model"],K(t,o));const i=s(e,["config"]);return i!=null&&l(n,["config"],Lh(i,n)),n}function kh(t){const e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&l(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&l(e,["inlineData"],Ph(i));const r=s(t,["fileData"]);r!=null&&l(e,["fileData"],Nh(r));const u=s(t,["thoughtSignature"]);u!=null&&l(e,["thoughtSignature"],u);const a=s(t,["functionCall"]);a!=null&&l(e,["functionCall"],a);const f=s(t,["codeExecutionResult"]);f!=null&&l(e,["codeExecutionResult"],f);const c=s(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const d=s(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function Vh(t){const e={},n=s(t,["handle"]);if(n!=null&&l(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qh(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],Uh(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&l(e,["googleMaps"],Dh(r));const u=s(t,["urlContext"]);u!=null&&l(e,["urlContext"],u);const a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],a);const f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gh(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);e.push(...i)}else e.push(n)}return e.join(",")}function Hh(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const r=Gh(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)r?t.fieldMask=r:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(c=>u.includes(c)?`generationConfig.${c}`:c));const f=[];r&&f.push(r),a.length>0&&f.push(...a),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Bh extends lt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=xh(this.apiClient,e);r=L("auth_tokens",a._url),u=a._query,delete a.config,delete a._url,delete a._query;const f=Hh(a,e.config);return i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bh(t,e){const n={},o=s(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function Jh(t,e){const n={},o=s(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function $h(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&l(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(t,["epochCount"]);e!==void 0&&r!=null&&l(e,["tuningTask","hyperparameters","epochCount"],r);const u=s(t,["learningRateMultiplier"]);if(u!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=s(t,["batchSize"]);e!==void 0&&a!=null&&l(e,["tuningTask","hyperparameters","batchSize"],a);const f=s(t,["learningRate"]);if(e!==void 0&&f!=null&&l(e,["tuningTask","hyperparameters","learningRate"],f),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function Wh(t,e,n){const o={},i=s(t,["validationDataset"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec"],rm(i));const r=s(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&l(e,["tunedModelDisplayName"],r);const u=s(t,["description"]);e!==void 0&&u!=null&&l(e,["description"],u);const a=s(t,["epochCount"]);e!==void 0&&a!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const f=s(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=s(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=s(t,["adapterSize"]);if(e!==void 0&&d!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(t,["labels"]);return e!==void 0&&p!=null&&l(e,["labels"],p),o}function Kh(t,e){const n={},o=s(t,["baseModel"]);o!=null&&l(n,["baseModel"],o);const i=s(t,["preTunedModel"]);i!=null&&l(n,["preTunedModel"],i);const r=s(t,["trainingDataset"]);r!=null&&l(n,["tuningTask","trainingData"],om(r));const u=s(t,["config"]);return u!=null&&$h(u,n),n}function Yh(t,e){const n={},o=s(t,["baseModel"]);o!=null&&l(n,["baseModel"],o);const i=s(t,["preTunedModel"]);i!=null&&l(n,["preTunedModel"],i);const r=s(t,["trainingDataset"]);r!=null&&im(r,n);const u=s(t,["config"]);return u!=null&&Wh(u,n),n}function Oh(t,e){const n={},o=s(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function zh(t,e){const n={},o=s(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function Xh(t,e,n){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);const u=s(t,["filter"]);return e!==void 0&&u!=null&&l(e,["_query","filter"],u),o}function Qh(t,e,n){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);const u=s(t,["filter"]);return e!==void 0&&u!=null&&l(e,["_query","filter"],u),o}function Zh(t,e){const n={},o=s(t,["config"]);return o!=null&&Xh(o,n),n}function jh(t,e){const n={},o=s(t,["config"]);return o!=null&&Qh(o,n),n}function em(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(n,["nextPageToken"],i);const r=s(t,["tunedModels"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(a=>tl(a))),l(n,["tuningJobs"],u)}return n}function tm(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(n,["nextPageToken"],i);const r=s(t,["tuningJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(a=>uo(a))),l(n,["tuningJobs"],u)}return n}function nm(t,e){const n={},o=s(t,["name"]);o!=null&&l(n,["model"],o);const i=s(t,["name"]);return i!=null&&l(n,["endpoint"],i),n}function om(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),l(n,["examples","examples"],i)}return n}function im(t,e,n){const o={},i=s(t,["gcsUri"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],i);const r=s(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],r),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function tl(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(n,["name"],i);const r=s(t,["state"]);r!=null&&l(n,["state"],kr(r));const u=s(t,["createTime"]);u!=null&&l(n,["createTime"],u);const a=s(t,["tuningTask","startTime"]);a!=null&&l(n,["startTime"],a);const f=s(t,["tuningTask","completeTime"]);f!=null&&l(n,["endTime"],f);const c=s(t,["updateTime"]);c!=null&&l(n,["updateTime"],c);const d=s(t,["description"]);d!=null&&l(n,["description"],d);const p=s(t,["baseModel"]);p!=null&&l(n,["baseModel"],p);const h=s(t,["_self"]);return h!=null&&l(n,["tunedModel"],nm(h)),n}function uo(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(n,["name"],i);const r=s(t,["state"]);r!=null&&l(n,["state"],kr(r));const u=s(t,["createTime"]);u!=null&&l(n,["createTime"],u);const a=s(t,["startTime"]);a!=null&&l(n,["startTime"],a);const f=s(t,["endTime"]);f!=null&&l(n,["endTime"],f);const c=s(t,["updateTime"]);c!=null&&l(n,["updateTime"],c);const d=s(t,["error"]);d!=null&&l(n,["error"],d);const p=s(t,["description"]);p!=null&&l(n,["description"],p);const h=s(t,["baseModel"]);h!=null&&l(n,["baseModel"],h);const g=s(t,["tunedModel"]);g!=null&&l(n,["tunedModel"],g);const T=s(t,["preTunedModel"]);T!=null&&l(n,["preTunedModel"],T);const C=s(t,["supervisedTuningSpec"]);C!=null&&l(n,["supervisedTuningSpec"],C);const D=s(t,["tuningDataStats"]);D!=null&&l(n,["tuningDataStats"],D);const R=s(t,["encryptionSpec"]);R!=null&&l(n,["encryptionSpec"],R);const w=s(t,["partnerModelTuningSpec"]);w!=null&&l(n,["partnerModelTuningSpec"],w);const P=s(t,["customBaseModel"]);P!=null&&l(n,["customBaseModel"],P);const A=s(t,["experiment"]);A!=null&&l(n,["experiment"],A);const F=s(t,["labels"]);F!=null&&l(n,["labels"],F);const G=s(t,["outputUri"]);G!=null&&l(n,["outputUri"],G);const B=s(t,["pipelineJob"]);B!=null&&l(n,["pipelineJob"],B);const Z=s(t,["serviceAccount"]);Z!=null&&l(n,["serviceAccount"],Z);const q=s(t,["tunedModelDisplayName"]);q!=null&&l(n,["tunedModelDisplayName"],q);const $=s(t,["veoTuningSpec"]);return $!=null&&l(n,["veoTuningSpec"],$),n}function sm(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(n,["name"],i);const r=s(t,["metadata"]);r!=null&&l(n,["metadata"],r);const u=s(t,["done"]);u!=null&&l(n,["done"],u);const a=s(t,["error"]);return a!=null&&l(n,["error"],a),n}function rm(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&l(n,["validationDatasetUri"],o);const i=s(t,["vertexDatasetResource"]);return i!=null&&l(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lm extends lt{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Xt(st.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let u="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?u=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(u=r.name.split("/operations/")[0]),{name:u,state:to.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=zh(e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>uo(d))}else{const c=Oh(e);return a=L("{name}",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>tl(d))}}async listInternal(e){var n,o,i,r;let u,a="",f={};if(this.apiClient.isVertexAI()){const c=jh(e);return a=L("tuningJobs",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=tm(d),h=new ds;return Object.assign(h,p),h})}else{const c=Zh(e);return a=L("tunedModels",c._url),f=c._query,delete c._url,delete c._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),u.then(d=>{const p=em(d),h=new ds;return Object.assign(h,p),h})}}async cancel(e){var n,o,i,r;let u="",a={};if(this.apiClient.isVertexAI()){const f=Jh(e);u=L("{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const f=bh(e);u=L("{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async tuneInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI()){const a=Yh(e);return r=L("tuningJobs",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>uo(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let i,r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Kh(e);return r=L("tunedModels",a._url),u=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>sm(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class um{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const am=1024*1024*8,fm=3,cm=1e3,dm=2,Bn="x-goog-upload-status";async function pm(t,e,n){var o,i,r;let u=0,a=0,f=new no(new Response),c="upload";for(u=t.size;a<u;){const p=Math.min(am,u-a),h=t.slice(a,a+p);a+p>=u&&(c+=", finalize");let g=0,T=cm;for(;g<fm&&(f=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(p)}}}),!(!((o=f?.headers)===null||o===void 0)&&o[Bn]));)g++,await mm(T),T=T*dm;if(a+=p,((i=f?.headers)===null||i===void 0?void 0:i[Bn])!=="active")break;if(u<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await f?.json();if(((r=f?.headers)===null||r===void 0?void 0:r[Bn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function hm(t){return{size:t.size,type:t.type}}function mm(t){return new Promise(e=>setTimeout(e,t))}class gm{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pm(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hm(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ym{create(e,n,o){return new _m(e,n,o)}}class _m{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ds="x-goog-api-key";class Tm{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Ds)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ds,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cm="gl-node/";class Em{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=qa(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new Tm(this.apiKey);this.apiClient=new sh({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Cm+"web",uploader:new gm,downloader:new um}),this.models=new Ah(this.apiClient),this.live=new _h(this.apiClient,i,new ym),this.batches=new ic(this.apiClient),this.chats=new kc(this.models,this.apiClient),this.caches=new Uc(this.apiClient),this.files=new Kc(this.apiClient),this.operations=new Rh(this.apiClient),this.authTokens=new Bh(this.apiClient),this.tunings=new lm(this.apiClient)}}class vm extends La{init(){this.ai=new Em({apiKey:this.key})}async response(e,n){return(await this.ai?.models.generateContent({model:e,contents:n}))?.text??""}}const Sm={class:"p-4"},Im=eu({__name:"App",setup(t){return new vm("AIzaSyAEmmVR2i2FXHon5lohccDcuAf-ZQDflVY","gemini-2.5-flash").generate("я же удалил свой ключ API, почему он работает?"),(e,n)=>($u(),Yu("div",Sm,[...n[0]||(n[0]=[Mo("h1",null,"Figma Plugin UI !!!",-1)])]))}});Na(Im).mount("#app");</script>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
